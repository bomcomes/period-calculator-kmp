# 생리 주기 계산기 테스트 케이스 정리

## 📋 테스트 케이스 작성 템플릿

```markdown
## TC-[번호]: [테스트 시나리오 명]
### 📌 테스트 목적
[무엇을 검증하는지 간단히 설명]

### 📝 입력 조건
- **생리 기록**: 
  - YYYY-MM-DD ~ YYYY-MM-DD
  - YYYY-MM-DD ~ YYYY-MM-DD
- **배란 테스트 기록**: 
  - YYYY-MM-DD: 양성/음성 (없으면 생략)
- **배란일 직접 입력**: 
  - YYYY-MM-DD (없으면 생략)
- **피임약 패키지 시작일**: 
  - YYYY-MM-DD (없으면 생략)
- **조회 기간**: 
  - 시작: YYYY-MM-DD
  - 종료: YYYY-MM-DD
- **오늘 날짜**: YYYY-MM-DD
- **생리 주기 설정**: 
  - 평균 주기: XX일 (실제 계산된 평균)
  - 평균 기간: XX일 (실제 계산된 평균)
  - 수동 평균 주기: XX일
  - 수동 평균 기간: XX일
  - 자동 계산 사용: true/false
- **피임약 설정**:
  - 피임약으로 계산: true/false
  - 복용일: XX일 (기본 21일)
  - 휴약일: XX일 (기본 7일)

### ✅ 예상 결과
- **생리 예정일들**: 
  - YYYY-MM-DD ~ YYYY-MM-DD
  - YYYY-MM-DD ~ YYYY-MM-DD (조회 기간 내 여러 개 가능)
- **생리 지연일**: XX일 (지연된 경우)
- **배란일들**: 
  - YYYY-MM-DD ~ YYYY-MM-DD
  - YYYY-MM-DD ~ YYYY-MM-DD (조회 기간 내 여러 개 가능)
- **가임기들**: 
  - YYYY-MM-DD ~ YYYY-MM-DD
  - YYYY-MM-DD ~ YYYY-MM-DD (조회 기간 내 여러 개 가능)

### 🔍 검증 포인트
- [ ] 검증할 조건 1
- [ ] 검증할 조건 2
- [ ] 검증할 조건 3
```

---

## 🎯 주요 테스트 시나리오

### TC-01: 규칙적인 주기 (정상 케이스)
#### 📌 테스트 목적
규칙적인 생리 주기에서 정확한 예측이 되는지 검증

#### 📝 입력 조건
```
생리 기록:
  1차: 2025-01-01 ~ 2025-01-05 (5일간)
  2차: 2025-01-29 ~ 2025-02-02 (5일간) → 주기: 28일
  3차: 2025-02-26 ~ 2025-03-02 (5일간) → 주기: 28일
  
기준일: 2025-03-15
마지막 생리로부터 경과일: 17일 (3/15 - 2/26)

설정값:
  - 수동 평균 주기: 28일
  - 수동 평균 기간: 5일
  - 자동 계산 사용: false
```

#### ✅ 예상 결과
- **다음 생리 예정일**: 2025-03-26
- **배란기**: 2025-03-11 ~ 2025-03-13
- **가임기**: 2025-03-10 ~ 2025-03-14

#### 🔍 검증 포인트
- [ ] 28일 주기가 정확히 계산되는가
- [ ] 배란일이 생리 시작 14일 전으로 계산되는가
- [ ] 가임기가 배란일 기준 ±2일로 설정되는가
- [ ] 황체기 구간이 올바르게 판정되는가

---

### TC-02: 불규칙한 주기
#### 📌 테스트 목적
주기가 불규칙할 때 평균값 기반 예측이 정확한지 검증

#### 📝 입력 조건
- **생리 기록**:
  - 2025-01-01 ~ 2025-01-05 
  - 2025-01-26 ~ 2025-01-30 (25일 주기)
  - 2025-02-27 ~ 2025-03-03 (32일 주기)
- **기준일**: 2025-03-15
- **설정값**: 
  - 수동 평균 주기: 28일
  - 수동 평균 기간: 5일
  - 자동 계산 사용: true

#### ✅ 예상 결과
- **다음 생리 예정일**: 2025-03-31 (평균 28.5일 기준)
- **배란 예정일**: 2025-03-17
- **가임기**: 2025-03-15 ~ 2025-03-19
- **현재 상태**: 가임기
- **D-Day**: D-16

#### 🔍 검증 포인트
- [ ] 불규칙한 주기의 평균이 정확히 계산되는가
- [ ] 평균값 기반 예측이 합리적인가
- [ ] 주기 변동성이 크면 경고 메시지가 표시되는가

---

### TC-03: 생리 중인 경우
#### 📌 테스트 목적
현재 생리 중일 때 상태 표시가 정확한지 검증

#### 📝 입력 조건
- **생리 기록**:
  - 2025-03-10 ~ 2025-03-14
- **기준일**: 2025-03-12
- **설정값**: 
  - 수동 평균 주기: 28일
  - 수동 평균 기간: 5일
  - 자동 계산 사용: false

#### ✅ 예상 결과
- **다음 생리 예정일**: 2025-04-07
- **현재 상태**: 생리 중
- **생리 종료 예정**: 2025-03-14
- **D-Day**: 생리 3일차

#### 🔍 검증 포인트
- [ ] 생리 중 상태가 정확히 표시되는가
- [ ] 생리 일차가 정확한가
- [ ] 생리 종료 예정일이 정확한가

---

### TC-04: 첫 기록 입력
#### 📌 테스트 목적
기록이 하나만 있을 때 기본값으로 예측하는지 검증

#### 📝 입력 조건
- **생리 기록**: 
  - 2025-03-01 ~ 2025-03-05
- **기준일**: 2025-03-20
- **설정값**: 
  - 수동 평균 주기: 30일
  - 수동 평균 기간: 5일
  - 자동 계산 사용: false

#### ✅ 예상 결과
- **다음 생리 예정일**: 2025-03-29 (기본 28일)
- **배란 예정일**: 2025-03-15
- **현재 상태**: 황체기
- **D-Day**: D-9

#### 🔍 검증 포인트
- [ ] 기본 주기(28일)가 적용되는가
- [ ] 단일 기록으로도 예측이 작동하는가
- [ ] 데이터 부족 안내 메시지가 표시되는가

---

### TC-05: 장기간 기록 없음
#### 📌 테스트 목적
오랜 기간 기록이 없을 때 예측 처리 검증

#### 📝 입력 조건
- **생리 기록**: 
  - 2024-12-01 ~ 2024-12-05
  - 2025-01-01 ~ 2025-01-05
- **기준일**: 2025-03-15
- **설정값**: 
  - 수동 평균 주기: 30일
  - 수동 평균 기간: 5일
  - 자동 계산 사용: false

#### ✅ 예상 결과
- **다음 생리 예정일**: 데이터 부족 또는 최근 패턴 기반 계산
- **현재 상태**: 예측 불확실
- **메시지**: "최근 기록이 없어 정확한 예측이 어렵습니다"

#### 🔍 검증 포인트
- [ ] 오래된 데이터 처리가 적절한가
- [ ] 사용자에게 적절한 안내가 제공되는가
- [ ] 예측 신뢰도가 낮음을 표시하는가

---

### TC-06: 가임기 경계 케이스
#### 📌 테스트 목적
가임기 시작/종료 날짜 정확성 검증

#### 📝 입력 조건
- **생리 기록**: 
  - 2025-03-01 ~ 2025-03-05
- **기준일**: 2025-03-13 (가임기 시작일)
- **설정값**: 
  - 수동 평균 주기: 28일
  - 수동 평균 기간: 5일
  - 자동 계산 사용: false

#### ✅ 예상 결과
- **배란 예정일**: 2025-03-15
- **가임기**: 2025-03-13 ~ 2025-03-17
- **현재 상태**: 가임기 (1일차)

#### 🔍 검증 포인트
- [ ] 가임기 경계일 판정이 정확한가
- [ ] 가임기 일차 계산이 정확한가
- [ ] 가임기 전후 상태 전환이 정확한가

---

### TC-07: 배란일 당일
#### 📌 테스트 목적
배란일 당일 상태 표시 및 알림 검증

#### 📝 입력 조건
- **생리 기록**: 
  - 2025-03-01 ~ 2025-03-05
- **기준일**: 2025-03-15 (배란 예정일)
- **설정값**: 
  - 주기: 28일

#### ✅ 예상 결과
- **배란 예정일**: 2025-03-15
- **현재 상태**: 배란일
- **알림**: "오늘은 배란 예정일입니다"

#### 🔍 검증 포인트
- [ ] 배란일 당일 특별 표시가 되는가
- [ ] 배란일 알림이 정확한가

---

### TC-08: 생리 예정일 임박
#### 📌 테스트 목적
생리 예정일 임박 시 알림 및 D-Day 표시 검증

#### 📝 입력 조건
- **생리 기록**: 
  - 2025-02-26 ~ 2025-03-02
- **기준일**: 2025-03-24 (D-2)
- **설정값**: 
  - 주기: 28일

#### ✅ 예상 결과
- **다음 생리 예정일**: 2025-03-26
- **현재 상태**: 황체기 말기
- **D-Day**: D-2
- **알림**: "생리 예정일이 2일 남았습니다"

#### 🔍 검증 포인트
- [ ] D-Day 카운트다운이 정확한가
- [ ] 생리 임박 알림이 표시되는가
- [ ] 준비 사항 안내가 제공되는가

---

### TC-09: 연속된 생리 기록 (비정상)
#### 📌 테스트 목적
비정상적으로 짧은 주기나 연속된 기록 처리 검증

#### 📝 입력 조건
- **생리 기록**: 
  - 2025-03-01 ~ 2025-03-05
  - 2025-03-10 ~ 2025-03-14 (5일 간격)
- **기준일**: 2025-03-20
- **설정값**: 자동 계산

#### ✅ 예상 결과
- **에러 메시지**: "비정상적인 주기가 감지되었습니다"
- **권고사항**: "의료 전문가 상담을 권장합니다"

#### 🔍 검증 포인트
- [ ] 비정상 주기 감지가 작동하는가
- [ ] 적절한 경고 메시지가 표시되는가
- [ ] 데이터 검증이 정확한가

---

### TC-10: 미래 날짜 입력
#### 📌 테스트 목적
미래 날짜가 입력되었을 때 처리 검증

#### 📝 입력 조건
- **생리 기록**: 
  - 2025-04-01 ~ 2025-04-05 (미래 날짜)
- **기준일**: 2025-03-15
- **설정값**: 기본값

#### ✅ 예상 결과
- **에러 메시지**: "미래 날짜는 입력할 수 없습니다"
- **입력 거부**: 기록이 저장되지 않음

#### 🔍 검증 포인트
- [ ] 미래 날짜 검증이 작동하는가
- [ ] 적절한 에러 메시지가 표시되는가
- [ ] 잘못된 데이터가 저장되지 않는가

---

## 📝 추가 고려사항

### 엣지 케이스
- [ ] 윤년 처리 (2월 29일 포함)
- [ ] 월 경계 넘어가는 생리 기간
- [ ] 연도 경계 넘��가는 생리 기간
- [ ] 시간대 변경 처리
- [ ] 매우 긴 생리 기간 (7일 초과)
- [ ] 매우 짧은 생리 기간 (2일 미만)
- [ ] 매우 긴 주기 (45일 초과)
- [ ] 매우 짧은 주기 (21일 미만)

### 데이터 정합성
- [ ] 중복된 날짜 입력 방지
- [ ] 겹치는 기간 입력 방지
- [ ] 데이터 정렬 및 순서 유지
- [ ] 삭제된 기록 처리
- [ ] 수정된 기록 재계산

### 사용자 경험
- [ ] 로딩 상태 표시
- [ ] 에러 메시지 명확성
- [ ] 계산 중 표시
- [ ] 데이터 없을 때 안내
- [ ] 도움말 제공

---

## 🔧 테스트 자동화 체크리스트

### 단위 테스트
- [ ] 날짜 계산 함수
- [ ] 주기 평균 계산
- [ ] 가임기 계산
- [ ] 배란일 계산
- [ ] 상태 판정 로직

### 통합 테스트
- [ ] Repository와 Calculator 연동
- [ ] 데이터 저장 및 조회
- [ ] 설정 변경 반영
- [ ] 다중 사용자 시나리오

### UI 테스트 (해당 시)
- [ ] 입력 폼 검증
- [ ] 달력 표시 정확성
- [ ] 알림 표시
- [ ] 반응형 레이아웃

---

## 📌 메모 및 추가 아이디어

[여기에 추가할 테스트 케이스나 아이디어를 작성하세요]

- 
- 
- 