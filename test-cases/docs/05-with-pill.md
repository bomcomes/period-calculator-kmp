# 피임약 복용 테스트 케이스

## 📌 공통 입력 조건

### 생리 기록
- **Period 1**: 2024-12-01 ~ 2024-12-05 (5일간, pk=1)
- **Period 2**: 2024-12-29 ~ 2025-01-02 (5일간, pk=2)
- **Period 3**: 2025-01-26 ~ 2025-01-30 (5일간, pk=3)
- **Period 4**: 2025-02-23 ~ 2025-02-27 (5일간, pk=4)

### 배란 테스트 기록
- 없음

### 배란일 직접 입력
- 없음

### 피임약 패키지 시작일
- **2025-03-01** (마지막 생리 종료 후)

### 오늘 날짜
- **2025-03-25** (지연 테스트 제외)

### 생리 주기 설정
- **평균 주기**: 28일
- **평균 생리 기간**: 5일
- **자동 계산**: false

### 피임약 설정 (기본)
- **피임약으로 계산**: true
- **복용일**: 21일
- **휴약일**: 7일
- **총 주기**: 28일

**⚠️ 주요 차이점**: 피임약 복용 시
- 주기 = 복용일 + 휴약일 (고정)
- 휴약기 = 소퇴성 출혈 예상 기간
- 배란기/가임기 없음 (호르몬으로 배란 억제)
- 패키지 시작일부터 새로운 주기 시작

---

## 현재 패키지 조회 (마지막 패키지 시작 이후)

### TC-05-01: 1일 조회
#### 📌 테스트 목적
특정 날짜 1일만 조회할 때 피임약 복용 상태가 정확히 표시되는지 검증

#### 📝 입력 조건
- **조회 기간**:
  - 시작: 2025-03-15
  - 종료: 2025-03-15
- **오늘 날짜**: 2025-03-25

#### ✅ 예상 결과
- **실제 생리 기록**: Period 4 (2025-02-23 ~ 2025-02-27)
- **생리 예정일들**: 없음 (다음 휴약기는 03-22부터)
- **생리 지연일**: 0
- **배란기들**: 없음 (피임약 복용 중)
- **가임기들**: 없음 (피임약 복용 중)
- **주기**: 28일

#### 🔍 검증 포인트
- [ ] 피임약 복용 중 배란기/가임기가 없는가
- [ ] 복용일차가 정확히 계산되는가
- [ ] 피임약 복용 상태가 올바르게 표시되는가

---

### TC-05-02: 1주일 조회
#### 📌 테스트 목적
1주일 기간 조회 시 피임약 복용 상태 변화가 정확히 표시되는지 검증

#### 📝 입력 조건
- **조회 기간**:
  - 시작: 2025-03-19
  - 종료: 2025-03-25
- **오늘 날짜**: 2025-03-25

#### ✅ 예상 결과
- **실제 생리 기록**: Period 4 (2025-02-23 ~ 2025-02-27)
- **생리 예정일들**: 2025-03-22 ~ 2025-03-26 (휴약기 출혈)
- **생리 지연일**: 0
- **배란기들**: 없음 (피임약 복용 중)
- **가임기들**: 없음 (피임약 복용 중)
- **주기**: 28일

#### 🔍 검증 포인트
- [ ] 복용 기간에서 휴약 기간으로 전환이 표시되는가
- [ ] 휴약기간이 생리 예정일로 표시되는가
- [ ] 복용 상태 변화가 올바르게 표시되는가

---

### TC-05-03: 1개월 조회
#### 📌 테스트 목적
피임약 패키지 전체 주기 조회 시 복용기간과 휴약기간이 모두 정확히 표시되는지 검증

#### 📝 입력 조건
- **조회 기간**:
  - 시작: 2025-03-01
  - 종료: 2025-03-28
- **오늘 날짜**: 2025-03-25

#### ✅ 예상 결과
- **실제 생리 기록**: Period 4 (2025-02-23 ~ 2025-02-27)
- **생리 예정일들**: 2025-03-22 ~ 2025-03-26 (휴약기 출혈)
- **생리 지연일**: 0
- **배란기들**: 없음 (피임약 복용 중)
- **가임기들**: 없음 (피임약 복용 중)
- **주기**: 28일

#### 🔍 검증 포인트
- [ ] 21일 복용 + 7일 휴약 = 28일 주기가 정확한가
- [ ] 휴약 기간이 생리 예정일로 표시되는가
- [ ] 전체 주기 동안 배란/가임기가 없는가

---

## 과거 조회 (패키지 시작 전)

### TC-05-04: 패키지 시작 1주 전
#### 📌 테스트 목적
피임약 시작 전 기간 조회 시 일반 주기 계산이 적용되는지 검증

#### 📝 입력 조건
- **조회 기간**:
  - 시작: 2025-02-20
  - 종료: 2025-02-28
- **오늘 날짜**: 2025-03-25

#### ✅ 예상 결과
- **실제 생리 기록**: Period 4 (2025-02-23 ~ 2025-02-27)
- **생리 예정일들**: 없음 (피임약 시작 전)
- **생리 지연일**: 0
- **배란기들**: 없음 (생리 중)
- **가임기들**: 없음 (생리 중)
- **주기**: 28일

#### 🔍 검증 포인트
- [ ] 피임약 시작 전이므로 일반 주기 계산 적용
- [ ] 실제 생리 기간이 정확히 표시
- [ ] 생리 중이므로 배란/가임기 없음

---

### TC-05-05: 피임약 시작 전
#### 📌 테스트 목적
피임약 시작 전 날짜 조회 시 일반 생리 주기가 표시되는지 검증

#### 📝 입력 조건
- **조회 기간**:
  - 시작: 2025-02-15
  - 종료: 2025-02-15
- **오늘 날짜**: 2025-03-25

#### ✅ 예상 결과
- **실제 생리 기록**: 없음 (조회일에 생리 없음)
- **생리 예정일들**: 2025-02-23 ~ 2025-02-27
- **생리 지연일**: 0
- **배란기들**: 없음 (가임기 외)
- **가임기들**: 2025-02-14 ~ 2025-02-20
- **주기**: 28일

#### 🔍 검증 포인트
- [ ] 피임약 시작 전 일반 주기 계산
- [ ] 가임기가 정상적으로 계산됨
- [ ] 다음 생리 예정일이 실제 생리와 일치

---

## 특수 설정

### TC-05-06: 비표준 복용일 (20일)
#### 📌 테스트 목적
21일이 아닌 20일 복용 설정 시 정확히 계산되는지 검증

#### 📝 입력 조건
- **조회 기간**:
  - 시작: 2025-03-01
  - 종료: 2025-03-27
- **피임약 설정 변경**:
  - 복용일: 20일
  - 휴약일: 7일
  - 총 주기: 27일

#### ✅ 예상 결과
- **실제 생리 기록**: Period 4 (2025-02-23 ~ 2025-02-27)
- **생리 예정일들**: 2025-03-21 ~ 2025-03-25 (20일 복용 후)
- **생리 지연일**: 0
- **배란기들**: 없음 (피임약 복용 중)
- **가임기들**: 없음 (피임약 복용 중)
- **주기**: 27일

#### 🔍 검증 포인트
- [ ] 20일 복용 + 7일 휴약 = 27일 주기
- [ ] 휴약기가 21일째부터 시작
- [ ] 주기가 27일로 계산됨

---

### TC-05-07: 최소 복용일 (20일)
#### 📌 테스트 목적
최소 복용일 설정 시 주기가 올바르게 계산되는지 검증

#### 📝 입력 조건
- **조회 기간**:
  - 시작: 2025-03-01
  - 종료: 2025-03-27
- **피임약 설정 변경**:
  - 복용일: 20일
  - 휴약일: 7일

#### ✅ 예상 결과
- **실제 생리 기록**: Period 4 (2025-02-23 ~ 2025-02-27)
- **생리 예정일들**: 2025-03-21 ~ 2025-03-25
- **생리 지연일**: 0
- **배란기들**: 없음 (피임약 복용 중)
- **가임기들**: 없음 (피임약 복용 중)
- **주기**: 27일

#### 🔍 검증 포인트
- [ ] 최소 복용일 20일이 정확히 적용
- [ ] 주기가 20 + 7 = 27일로 계산
- [ ] 휴약기 시작이 21일째

---

### TC-05-08: 최대 복용일 (35일)
#### 📌 테스트 목적
최대 복용일 설정 시 주기가 올바르게 계산되는지 검증

#### 📝 입력 조건
- **조회 기간**:
  - 시작: 2025-03-01
  - 종료: 2025-04-11
- **피임약 설정 변경**:
  - 복용일: 35일
  - 휴약일: 7일

#### ✅ 예상 결과
- **실제 생리 기록**: Period 4 (2025-02-23 ~ 2025-02-27)
- **생리 예정일들**: 2025-04-05 ~ 2025-04-09 (35일 복용 후)
- **생리 지연일**: 0
- **배란기들**: 없음 (피임약 복용 중)
- **가임기들**: 없음 (피임약 복용 중)
- **주기**: 42일

#### 🔍 검증 포인트
- [ ] 최대 복용일 35일이 정확히 적용
- [ ] 주기가 35 + 7 = 42일로 계산
- [ ] 휴약기 시작이 36일째

---

### TC-05-09: 휴약 없음 (0일)
#### 📌 테스트 목적
휴약 기간 없이 연속 복용 시 정확히 처리되는지 검증

#### 📝 입력 조건
- **조회 기간**:
  - 시작: 2025-03-01
  - 종료: 2025-03-31
- **피임약 설정 변경**:
  - 복용일: 21일
  - 휴약일: 0일

#### ✅ 예상 결과
- **실제 생리 기록**: Period 4 (2025-02-23 ~ 2025-02-27)
- **생리 예정일들**: 없음 (휴약기 없음)
- **생리 지연일**: 0
- **배란기들**: 없음 (피임약 복용 중)
- **가임기들**: 없음 (피임약 복용 중)
- **주기**: 21일

#### 🔍 검증 포인트
- [ ] 휴약기 없이 연속 복용
- [ ] 생리 예정일 없음
- [ ] 주기가 21일로 계산

---

### TC-05-10: 연속 복용 (0일 휴약)
#### 📌 테스트 목적
여러 패키지 연속 복용 시 계산이 정확한지 검증

#### 📝 입력 조건
- **조회 기간**:
  - 시작: 2025-03-01
  - 종료: 2025-04-15
- **피임약 패키지**:
  - 1차: 2025-03-01 시작
  - 2차: 2025-03-22 시작
  - 3차: 2025-04-12 시작
- **피임약 설정 변경**:
  - 휴약일: 0일

#### ✅ 예상 결과
- **실제 생리 기록**: Period 4 (2025-02-23 ~ 2025-02-27)
- **생리 예정일들**: 없음 (연속 복용)
- **생리 지연일**: 0
- **배란기들**: 없음 (피임약 복용 중)
- **가임기들**: 없음 (피임약 복용 중)
- **주기**: 21일

#### 🔍 검증 포인트
- [ ] 패키지 간 휴약 없이 연속
- [ ] 생리 예정일 없음
- [ ] 복용 상태 연속 유지

---

## 복잡한 시나리오

### TC-05-11: 여러 패키지 조회
#### 📌 테스트 목적
여러 피임약 패키지에 걸친 장기간 조회가 정확한지 검증

#### 📝 입력 조건
- **조회 기간**:
  - 시작: 2025-02-01
  - 종료: 2025-05-31
- **피임약 패키지**:
  - 1차: 2025-03-01 시작
  - 2차: 2025-03-29 시작
  - 3차: 2025-04-26 시작

#### ✅ 예상 결과
- **실제 생리 기록**: Period 4 (2025-02-23 ~ 2025-02-27)
- **생리 예정일들**:
  - 2025-03-22 ~ 2025-03-26 (1차 휴약기)
  - 2025-04-19 ~ 2025-04-23 (2차 휴약기)
  - 2025-05-17 ~ 2025-05-21 (3차 휴약기)
- **생리 지연일**: 0
- **배란기들**: 없음 (피임약 복용 중)
- **가임기들**: 2025-02-14 ~ 2025-02-20 (피임약 시작 전만)
- **주기**: 28일

#### 🔍 검증 포인트
- [ ] 각 패키지의 휴약기가 정확히 계산
- [ ] 피임약 시작 전 가임기만 표시
- [ ] 패키지 간 전환이 올바름

---

### TC-05-12: 생리 지연 (1-7일)
#### 📌 테스트 목적
피임약 복용 중 생리 지연 시 정확히 계산되는지 검증

#### 📝 입력 조건
- **조회 기간**:
  - 시작: 2025-03-20
  - 종료: 2025-03-31
- **오늘 날짜**: 2025-03-29 (휴약기 8일째, 생리 시작 안 함)

#### ✅ 예상 결과
- **실제 생리 기록**: Period 4 (2025-02-23 ~ 2025-02-27)
- **생리 예정일들**: 2025-03-22 ~ 2025-03-26
- **생리 지연일**: 3 (03-26 예정, 03-29 현재)
- **배란기들**: 없음 (피임약 복용 중)
- **가임기들**: 없음 (피임약 복용 중)
- **주기**: 28일

#### 🔍 검증 포인트
- [ ] 휴약기 중 생리 시작 안 함
- [ ] 지연일이 정확히 계산됨
- [ ] 다음 패키지 시작 시점 확인

---

### TC-05-13: 생리 지연 (8일 이상)
#### 📌 테스트 목적
피임약 복용 중 8일 이상 지연 시 처리가 정확한지 검증

#### 📝 입력 조건
- **조회 기간**:
  - 시작: 2025-03-20
  - 종료: 2025-04-10
- **오늘 날짜**: 2025-04-02 (지연 8일)

#### ✅ 예상 결과
- **실제 생리 기록**: Period 4 (2025-02-23 ~ 2025-02-27)
- **생리 예정일들**: 없음 (8일 이상 지연 시 표시 안 함)
- **생리 지연일**: 8
- **배란기들**: 없음 (피임약 복용 중)
- **가임기들**: 없음 (피임약 복용 중)
- **주기**: 28일

#### 🔍 검증 포인트
- [ ] 8일 이상 지연 시 예정일 미표시
- [ ] 지연일수가 계속 카운트
- [ ] 다음 패키지 처리 확인

---

### TC-05-14: 피임약 중단
#### 📌 테스트 목적
피임약 중단 후 일반 주기로 돌아가는지 검증

#### 📝 입력 조건
- **조회 기간**:
  - 시작: 2025-04-01
  - 종료: 2025-04-30
- **피임약 패키지**:
  - 마지막: 2025-03-01 시작 (이후 중단)
- **피임약 설정 변경**:
  - 피임약으로 계산: false

#### ✅ 예상 결과
- **실제 생리 기록**: 없음 (4월 기록 없음)
- **생리 예정일들**: 2025-04-20 ~ 2025-04-24 (일반 주기 계산)
- **생리 지연일**: 0
- **배란기들**: 2025-04-06 ~ 2025-04-08
- **가임기들**: 2025-04-04 ~ 2025-04-09
- **주기**: 28일

#### 🔍 검증 포인트
- [ ] 피임약 중단 후 일반 주기 복귀
- [ ] 배란기/가임기가 다시 계산됨
- [ ] 마지막 생리 기준 계산

---

### TC-05-15: 일반 주기에서 피임약 전환
#### 📌 테스트 목적
일반 생리 주기에서 피임약으로 전환 시 올바르게 처리되는지 검증

#### 📝 입력 조건
- **조회 기간**:
  - 시작: 2025-02-01
  - 종료: 2025-03-31
- **피임약 패키지 시작**: 2025-03-01

#### ✅ 예상 결과
- **실제 생리 기록**: Period 4 (2025-02-23 ~ 2025-02-27)
- **생리 예정일들**: 2025-03-22 ~ 2025-03-26 (피임약 휴약기)
- **생리 지연일**: 0
- **배란기들**: 없음 (3월부터 피임약)
- **가임기들**: 2025-02-14 ~ 2025-02-20 (2월만)
- **주기**: 28일

#### 🔍 검증 포인트
- [ ] 2월은 일반 주기 계산
- [ ] 3월부터 피임약 주기 적용
- [ ] 전환 시점이 명확함

---

## 테스트 요약

### 커버리지
- **기본 조회**: 1일, 1주일, 1개월 (TC-05-01 ~ TC-05-03)
- **과거 조회**: 패키지 시작 전 (TC-05-04 ~ TC-05-05)
- **특수 설정**: 비표준 복용일, 휴약 없음 (TC-05-06 ~ TC-05-10)
- **복잡한 시나리오**: 여러 패키지, 지연, 전환 (TC-05-11 ~ TC-05-15)

### 주요 검증 사항
1. 피임약 복용 중 배란기/가임기 없음
2. 휴약기가 생리 예정일로 정확히 계산
3. 복용일 + 휴약일 = 주기
4. 패키지 간 전환 처리
5. 일반 주기와 피임약 주기 간 전환