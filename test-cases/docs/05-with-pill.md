# 피임약 복용 테스트 케이스 (10개)

## 📌 핵심 개념

### 예정일 계산
- **공식**: 피임약 시작일 + 복용일 + 2 (휴약 3일째부터 생리 예정)
- **21일 복용 예**: 03-01 + 21 + 2 = **03-24** 시작

### 5일 규칙 (중요!)
피임약을 **생리 예정일 5일 전에 복용**해야 피임약 기반 계산 적용:
- **5일 전 또는 그 이전**: 피임약 기반 예정일, 배란기/가임기 숨김
- **5일 이후 (4일 전 이하)**: 일반 주기 계산, 배란기/가임기 노출

### 연속 복용 (휴약기 0일)
- 예정일 없음, 배란기/가임기 숨김, 지연 개념 없음

---

## TC-05-01: 기본 복용 (1개월)

### 목적
피임약 패키지 전체 주기 조회 시 정확히 계산되는지 검증

### 입력 조건
- 생리 기록: 2025-02-23 ~ 02-27
- 피임약 시작: 2025-03-01
- 조회 기간: 2025-03-01 ~ 03-28
- 오늘 날짜: 2025-03-15
-

#### ✅ 예상 결과
- pk: "1"
- 실제 생리 기록: 2025-02-23 ~ 2025-02-27
- 생리 예정일들: 2025-03-24 ~ 2025-03-28
- 배란기들: 없음
- 가임기들: 없음
- 지연 일수: 8일
- 지연 기간: 2025-03-26 ~ 2025-04-02
- 주기: 28일
- 배란일 사용자 입력: false

피임약 관련 테스트에서 추가할 항목:
- 피임약 기준 주기: 29일
- 남은 휴약일: 0일
- 
#### ✅ 예상 결과
- **실제 생리 기록**: 2025-02-23 ~ 2025-02-27 (pk=1, 마지막 생리, 부분 포함)
- **생리 지연일**: 8일
- **지연 기간**: 2025-03-26 ~ 2025-04-02 (예정일 03-26부터 오늘 04-02까지 8일간)
- **생리 예정일들**:
  - 2025-03-24 ~ 2025-03-28
- **배란기들**: 없음
- **가임기들**: 없음
- **주기**: 28일

---

## TC-05-02: 휴약기 0일 (연속 복용)

### 목적
휴약 없이 연속 복용 시 예정일이 없는지 검증

### 입력
- **피임약 설정**: 복용일 21일, 휴약일 0일
- **조회 기간**: 2025-03-15 ~ 03-21

### 예상 결과
- **예정일**: 없음
- **배란기/가임기**: 없음
- **지연**: 없음

---

## TC-05-03: 여러 패키지

### 목적
3개월 연속 패키지 - 마지막 패키지 예정일만 반환되는지 검증

### 입력
- **피임약 패키지**:
  - 1차: 2025-03-01
  - 2차: 2025-03-29
  - 3차: 2025-04-26
- **조회 기간**: 2025-03-01 ~ 05-25

### 예상 결과
- **예정일**: 1개 (2025-05-19, 3차 패키지 기준)
- **배란기/가임기**: 없음

---

## TC-05-04: 지연 1-7일

### 목적
피임약 복용 중 생리 지연 시 정확히 계산되는지 검증

### 입력
- **오늘**: 2025-03-29 (예정일 03-24 이후 6일)
- **조회 기간**: 2025-03-20 ~ 04-05

### 예상 결과
- **지연일**: 6일
- **지연 기간**: 있음
- **예정일**: 있음

---

## TC-05-05: 지연 8일 이상

### 목적
8일 이상 지연 시 예정일 표시 안 함 검증 (병원 진료 권장)

### 입력
- **오늘**: 2025-04-02 (예정일 03-24 이후 10일)
- **조회 기간**: 2025-03-20 ~ 04-10

### 예상 결과
- **지연일**: 10일
- **예정일**: 없음 (8일 이상 지연)

---

## TC-05-06: 5일 전 복용 (배란기 숨김)

### 목적
피임약을 예정일 5일 전에 복용 시 피임약 기반 계산 적용 검증

### 입력
- **일반 예정일**: 02-23 + 28 = 03-23
- **피임약 시작**: 2025-03-18 (예정일 5일 전)
- **조회 기간**: 2025-03-01 ~ 04-20

### 예상 결과
- **예정일**: 2025-04-10 (피임약 기반: 03-18 + 21 + 2)
- **배란기/가임기**: 없음 (5일 규칙 만족)

---

## TC-05-07: 5일 이후 복용 (배란기 노출)

### 목적
피임약을 예정일 5일 전 이후에 복용 시 일반 주기 계산 유지 검증

### 입력
- **일반 예정일**: 02-23 + 28 = 03-23
- **피임약 시작**: 2025-03-20 (예정일 3일 전, 5일 이전 아님)
- **조회 기간**: 2025-03-01 ~ 04-05

### 예상 결과
- **예정일**: 2025-03-23 (일반 주기)
- **배란기/가임기**: 있음 (5일 규칙 미만족)

---

## TC-05-08: 생리 기간 사이 - 5일 전 복용 (배란기 숨김)

### 목적
첫 생리 후 피임약 복용, 두 번째 생리 기간에서 5일 규칙 검증

### 입력
- **생리 기록**: Period 4 (02-23), Period 5 (03-24)
- **피임약 패키지**: 1차 03-01, 2차 03-29
- **조회 기간**: 2025-04-01 ~ 04-30

### 예상 결과
- **예정일**: 04-21 (2차 패키지 기준: 03-29 + 21 + 2)
- **배란기/가임기**: 없음 (5일 규칙 만족)

---

## TC-05-09: 생리 기간 사이 - 5일 이후 복용 (배란기 노출)

### 목적
생리 후 늦게 피임약 시작 시 배란기/가임기 노출 검증

### 입력
- **생리 기록**: 2025-03-24 ~ 03-28
- **일반 예정일**: 03-24 + 28 = 04-21
- **피임약 시작**: 04-18 (예정일 3일 전, 5일 이전 아님)
- **조회 기간**: 2025-04-01 ~ 04-30

### 예상 결과
- **예정일**: 04-21 (일반 주기)
- **배란기/가임기**: 있음 (5일 규칙 미만족)

---

## TC-05-10: 피임약 중단

### 목적
피임약 중단 후 일반 주기로 복귀 검증

### 입력
- **생리 기록**: 2025-03-23 ~ 03-27 (피임약 중단 후)
- **피임약 설정**: isCalculatingWithPill = false
- **조회 기간**: 2025-04-01 ~ 04-30

### 예상 결과
- **예정일**: 있음 (일반 주기)
- **배란기/가임기**: 있음 (피임약 중단)

---

## 테스트 요약

| 번호 | 테스트 | 핵심 검증 |
|------|--------|-----------|
| 01 | 기본 복용 | 피임약 예정일 계산 |
| 02 | 휴약기 0일 | 연속 복용 시 예정일 없음 |
| 03 | 여러 패키지 | 마지막 패키지 예정일만 반환 |
| 04 | 지연 1-7일 | 지연 계산 |
| 05 | 지연 8일+ | 예정일 표시 안 함 |
| 06 | 5일 전 복용 (첫 복용) | 배란기/가임기 숨김 |
| 07 | 5일 이후 복용 (첫 복용) | 배란기/가임기 노출 |
| 08 | 5일 전 복용 (생리 사이) | 배란기/가임기 숨김 |
| 09 | 5일 이후 복용 (생리 사이) | 배란기/가임기 노출 |
| 10 | 피임약 중단 | 일반 주기 복귀 |
