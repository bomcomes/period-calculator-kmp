# 피임약 복용 테스트 케이스

## 📌 공통 입력 조건

모든 테스트 케이스는 동일한 입력 조건을 사용합니다:

- **생리 기록**: 
  - 2025-01-01 ~ 2025-01-05
  - 2025-01-29 ~ 2025-02-02
- **배란 테스트 기록**: 없음
- **배란일 직접 입력**: 없음
- **피임약 패키지 시작일**: 2025-02-05 (생리 종료 후 시작)
- **오늘 날짜**: 2025-03-15
- **생리 주기 설정**: 
  - 수동 평균 주기: 28일
  - 수동 평균 기간: 5일
  - 자동 계산 사용: false
- **피임약 설정**:
  - 피임약으로 계산: true
  - 복용일: 21일
  - 휴약일: 7일

**⚠️ 주요 차이점**: 피임약 복용 시
- 주기 = 복용일 + 휴약일 = 28일 (고정)
- 휴약기 = 생리 예정 기간
- 배란기/가임기 없음 (배란 억제)

---

## TC-05-01: 1일 조회
### 📌 테스트 목적
특정 날짜 1일만 조회할 때 피임약 복용 중 상태가 정확한지 검증

### 📝 입력 조건
- **조회 기간**: 
  - 시작: 2025-04-15
  - 종료: 2025-04-15

### ✅ 예상 결과
- **실제 생리 기록**: 2025-01-29 ~ 2025-02-02 (pk=2, 마지막 생리)
- **생리 예정일들**: 없음 (조회 기간 내 생리 없음)
- **생리 지연일**: 없음
- **배란기들**: 없음 (피임약 복용 시 배란 억제)
- **가임기들**: 없음 (피임약 복용 시)
- **주기**: 28일 (피임약 패키지 주기)

### 🔍 검증 포인트
- [ ] 1일 조회 시 해당 날짜만 반환되는가
- [ ] 피임약 복용 중 배란기/가임기가 표시되지 않는가

---

## TC-05-02: 1주일 조회
### 📌 테스트 목적
1주일 기간 조회 시 피임약 복용 중 상태가 정확히 표시되는지 검증

### 📝 입력 조건
- **조회 기간**: 
  - 시작: 2025-04-10
  - 종료: 2025-04-16

### ✅ 예상 결과
- **실제 생리 기록**: 2025-01-29 ~ 2025-02-02 (pk=2, 마지막 생리)
- **생리 예정일들**: 없음 (조회 기간 내 생리 없음)
- **배란기들**: 없음 (피임약 복용 시 배란 억제)
- **가임기들**: 없음 (피임약 복용 시)
- **주기**: 28일 (피임약 패키지 주기)

### 🔍 검증 포인트
- [ ] 피임약 복용 중 배란기/가임기가 표시되지 않는가
- [ ] 생리 예정일이 조회 기간에 없는가

---

## TC-05-03: 1개월 조회 (휴약기 포함)
### 📌 테스트 목적
휴약기를 포함한 1개월 조회 시 생리 예정일이 정확한지 검증

### 📝 입력 조건
- **조회 기간**: 
  - 시작: 2025-04-20
  - 종료: 2025-04-27

### ✅ 예상 결과
- **실제 생리 기록**: 2025-01-29 ~ 2025-02-02 (pk=2, 마지막 생리)
- **생리 예정일들**: 
  - 2025-04-23 ~ 2025-04-27 (부분 포함, 실제: 2025-04-23 ~ 2025-04-29)
- **배란기들**: 없음 (피임약 복용 시 배란 억제)
- **가임기들**: 없음 (피임약 복용 시)
- **주기**: 28일 (피임약 패키지 주기)

### 🔍 검증 포인트
- [ ] 휴약기가 생리 예정일로 설정되는가
- [ ] 피임약 패키지 주기(28일)로 계산되는가
- [ ] 배란기/가임기가 표시되지 않는가

---

## TC-05-04: 3개월 조회
### 📌 테스트 목적
장기간 조회 시 피임약 패키지 주기가 반복적으로 정확한지 검증

### 📝 입력 조건
- **조회 기간**: 
  - 시작: 2025-02-01
  - 종료: 2025-04-30

### ✅ 예상 결과
- **실제 생리 기록**: 2025-01-29 ~ 2025-02-02 (pk=2, 마지막 생리)
- **생리 예정일들**: 
  - 2025-02-26 ~ 2025-03-04 (휴약기 = 생리 예정, 패키지 시작 2025-02-05 기준)
  - 2025-03-26 ~ 2025-04-01
  - 2025-04-23 ~ 2025-04-29
- **배란기들**: 없음 (피임약 복용 시 배란 억제)
- **가임기들**: 없음 (피임약 복용 시)
- **주기**: 28일 (피임약 패키지 주기)

### 🔍 검증 포인트
- [ ] 피임약 패키지 주기(28일)가 일정하게 반복되는가
- [ ] 휴약기가 매 주기마다 생리 예정일로 설정되는가
- [ ] 배란기와 가임기가 표시되지 않는가
- [ ] 3개월 동안 3개의 주기가 모두 표시되는가

---

## TC-05-05: 생리 기간 중 조회 (휴약기)
### 📌 테스트 목적
조회 기간이 휴약기(생리 예정 기간)를 포함할 때 정확히 표시되는지 검증

### 📝 입력 조건
- **조회 기간**: 
  - 시작: 2025-03-26
  - 종료: 2025-04-01

### ✅ 예상 결과
- **실제 생리 기록**: 2025-01-29 ~ 2025-02-02 (pk=2, 마지막 생리)
- **생리 예정일들**: 
  - 2025-03-26 ~ 2025-04-01
- **배란기들**: 없음 (피임약 복용 시 배란 억제)
- **가임기들**: 없음 (피임약 복용 시)
- **주기**: 28일 (피임약 패키지 주기)

### 🔍 검증 포인트
- [ ] 휴약기가 생리 예정일로 정확히 표시되는가
- [ ] 생리 기간만 조회 시 배란기/가임기는 표시되지 않는가

---

## TC-05-06: 복용 기간 중 조회
### 📌 테스트 목적
조회 기간이 피임약 복용 기간(21일)을 포함할 때 정확히 표시되는지 검증

### 📝 입력 조건
- **조회 기간**: 
  - 시작: 2025-04-02
  - 종료: 2025-04-22

### ✅ 예상 결과
- **실제 생리 기록**: 2025-01-29 ~ 2025-02-02 (pk=2, 마지막 생리)
- **생리 예정일들**: 없음 (조회 기간 내 휴약기 없음)
- **배란기들**: 없음 (피임약 복용 시 배란 억제)
- **가임기들**: 없음 (피임약 복용 시)
- **주기**: 28일 (피임약 패키지 주기)

### 🔍 검증 포인트
- [ ] 복용 기간 중에는 생리 예정일이 표시되지 않는가
- [ ] 배란기/가임기가 표시되지 않는가

---

## TC-05-07: 복용 시작일 포함 조회
### 📌 테스트 목적
피임약 패키지 시작일을 포함한 조회 시 정확한지 검증

### 📝 입력 조건
- **조회 기간**: 
  - 시작: 2025-02-01
  - 종료: 2025-02-10

### ✅ 예상 결과
- **실제 생리 기록**: 2025-01-29 ~ 2025-02-02 (pk=2, 마지막 생리)
- **생리 예정일들**: 없음 (조회 기간 내 휴약기 없음)
- **배란기들**: 없음 (피임약 복용 시 배란 억제)
- **가임기들**: 없음 (피임약 복용 시)
- **주기**: 28일 (피임약 패키지 주기)

### 🔍 검증 포인트
- [ ] 패키지 시작일부터 피임약 계산이 적용되는가
- [ ] 시작일 이전 생리 기록과 이후 피임약 주기가 구분되는가
