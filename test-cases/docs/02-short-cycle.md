# 짧은 주기 (25일) 테스트 케이스

## 📌 공통 입력 조건

모든 테스트 케이스는 동일한 입력 조건을 사용합니다:

- **생리 기록**: 
  - Period 1: 2025-01-01 ~ 2025-01-05
  - Period 2: 2025-01-26 ~ 2025-01-30 (25일 주기)
  - Period 3: 2025-02-20 ~ 2025-02-24 (25일 주기)
- **배란 테스트 기록**: 없음
- **배란일 직접 입력**: 없음
- **피임약 패키지 시작일**: 없음
- **오늘 날짜**: 2025-03-15
- **생리 주기 설정**: 
  - 평균 주기: 25일
  - 평균 기간: 5일
  - 자동 계산 사용: false
- **피임약 설정**:
  - 피임약으로 계산: false

**⚠️ 주요 차이점**: 25일 주기는 26일 미만이므로 다른 계산 공식 적용
- 배란기: period - 16 ~ period - 14일째 (시작일 + 9 ~ 시작일 + 11)
- 가임기: period - 19 ~ period - 11일째 (시작일 + 6 ~ 시작일 + 14)

---

## 그룹 1: 미래 예측 중심 (마지막 생리 이후 - Period 3)

### TC-02-01: 1일 조회 (미래)
#### 📌 테스트 목적
Period 3 이후 특정 날짜 1일만 조회할 때 해당 날짜의 상태가 정확한지 검증

#### 📝 입력 조건
- **조회 기간**: 2025-03-15 ~ 2025-03-15 (1일)

#### ✅ 예상 결과
- **실제 생리 기록**: 2025-02-20 ~ 2025-02-24 (pk=3, 마지막 생리)
- **생리 예정일들**: 없음 (조회 기간 내 생리 예정일 없음, 다음 예정일은 2025-03-17)
- **생리 지연일**: 없음
- **배란기들**: 없음 (배란기는 2025-03-01 ~ 2025-03-03, 조회일 이전)
- **가임기들**: 없음 (가임기는 2025-02-26 ~ 2025-03-06, 조회일 이전)
- **주기**: 25일

#### 🔍 검증 포인트
- [ ] 1일 조회 시 해당 날짜만 반환되는가
- [ ] 25일 주기 계산이 정확한가
- [ ] 조회일이 가임기/배란기 밖일 때 비어있는가

---

### TC-02-02: 1주일 조회 (미래)
#### 📌 테스트 목적
Period 3 이후 1주일 기간 조회 시 25일 주기의 상태 변화가 정확히 표시되는지 검증

#### 📝 입력 조건
- **조회 기간**: 2025-03-10 ~ 2025-03-16 (7일)

#### ✅ 예상 결과
- **실제 생리 기록**: 2025-02-20 ~ 2025-02-24 (pk=3, 마지막 생리)
- **생리 예정일들**: 없음 (다음 예정일은 2025-03-17부터, 조회 범위 밖)
- **생리 지연일**: 없음
- **배란기들**: 없음 (배란기는 2025-03-01 ~ 2025-03-03, 조회 범위 밖)
- **가임기들**: 없음 (가임기는 2025-02-26 ~ 2025-03-06, 조회 범위 밖)
- **주기**: 25일

#### 🔍 검증 포인트
- [ ] 생리 예정일이 조회 범위 밖일 때 비어있는가
- [ ] 배란기/가임기가 조회 범위 밖일 때 비어있는가
- [ ] 25일 주기로 정확히 계산되는가

---

### TC-02-03: 1개월 조회 (미래)
#### 📌 테스트 목적
마지막 생리(Period 3) 전체 주기를 조회하여 실제 생리, 배란기, 가임기가 모두 정확히 표시되는지 검증

#### 📝 입력 조건
- **조회 기간**: 2025-02-20 ~ 2025-03-16 (Period 3 전체 주기, 25일)

#### ✅ 예상 결과
- **실제 생리 기록**: 2025-02-20 ~ 2025-02-24 (pk=3, 마지막 생리)
- **생리 예정일들**: 없음 (다음 예정일 2025-03-17은 조회 범위 밖)
- **생리 지연일**: 없음
- **배란기들**: 2025-03-01 ~ 2025-03-03 (생리 시작 10-12일차, period-16 ~ period-14)
- **가임기들**: 2025-02-26 ~ 2025-03-06 (생리 시작 7-15일차, period-19 ~ period-11)
- **주기**: 25일

#### 🔍 검증 포인트
- [ ] Period 3 전체 주기가 포함되는가
- [ ] 배란기가 짧은 주기 공식(period-16 ~ period-14)으로 정확히 계산되는가
- [ ] 가임기가 짧은 주기 공식(period-19 ~ period-11)으로 정확히 계산되는가
- [ ] 다음 예정일이 조회 범위 밖이므로 비어있는가

---

## 그룹 2: 과거 기록 중심 (생리 주기 사이 - Period 2)

### TC-02-04: 1일 조회 (과거)
#### 📌 테스트 목적
Period 2의 배란기 중 특정 날짜 1일만 조회할 때 해당 날짜의 상태가 정확한지 검증

#### 📝 입력 조건
- **조회 기간**: 2025-02-04 ~ 2025-02-04 (1일, Period 2의 배란기)

#### ✅ 예상 결과

**주기 개수: 2개**

**주기 1 (pk=2):**
- **실제 생리 기록**: 2025-01-26 ~ 2025-01-30 (두 번째 생리)
- **생리 예정일들**: 없음 (Period 3는 실제 기록)
- **생리 지연일**: 없음
- **배란기들**: 2025-02-04 ~ 2025-02-06 (조회일 포함)
- **가임기들**: 2025-02-01 ~ 2025-02-09 (조회일 포함)
- **주기**: 25일

**주기 2 (pk=3):**
- **실제 생리 기록**: 2025-02-20 ~ 2025-02-24 (세 번째 생리)
- **생리 예정일들**: 없음
- **생리 지연일**: 없음
- **배란기들**: 없음 (조회 범위 밖)
- **가임기들**: 없음 (조회 범위 밖)
- **주기**: 25일

#### 🔍 검증 포인트
- [ ] Period 2의 배란기가 인덱스 9-11로 정확히 계산되는가
- [ ] Period 2의 가임기가 인덱스 6-14로 정확히 계산되는가
- [ ] 조회일이 배란기/가임기 내에 포함되는가

---

### TC-02-05: 1주일 조회 (과거)
#### 📌 테스트 목적
Period 2의 배란기/가임기가 포함된 1주일 기간 조회 시 해당 주의 상태 변화가 정확히 표시되는지 검증

#### 📝 입력 조건
- **조회 기간**: 2025-02-02 ~ 2025-02-08 (7일, Period 2의 배란기/가임기 포함)

#### ✅ 예상 결과

**주기 개수: 2개**

**주기 1 (pk=2):**
- **실제 생리 기록**: 2025-01-26 ~ 2025-01-30 (두 번째 생리)
- **생리 예정일들**: 없음 (Period 3는 실제 기록)
- **생리 지연일**: 없음
- **배란기들**: 2025-02-04 ~ 2025-02-06 (조회 범위와 부분 겹침)
- **가임기들**: 2025-02-01 ~ 2025-02-09 (조회 범위와 부분 겹침)
- **주기**: 25일

**주기 2 (pk=3):**
- **실제 생리 기록**: 2025-02-20 ~ 2025-02-24 (세 번째 생리)
- **생리 예정일들**: 없음
- **생리 지연일**: 없음
- **배란기들**: 없음 (조회 범위 밖)
- **가임기들**: 없음 (조회 범위 밖)
- **주기**: 25일

#### 🔍 검증 포인트
- [ ] 배란기가 조회 범위와 부분 겹칠 때 올바르게 포함되는가
- [ ] 가임기가 조회 범위와 부분 겹칠 때 올바르게 포함되는가
- [ ] 25일 짧은 주기 공식이 정확히 적용되는가

---

### TC-02-06: 1개월 조회 (과거)
#### 📌 테스트 목적
Period 2 전체 주기를 조회하여 실제 생리, 배란기, 가임기가 모두 정확히 표시되는지 검증

#### 📝 입력 조건
- **조회 기간**: 2025-01-26 ~ 2025-02-19 (Period 2 전체 주기, 25일)

#### ✅ 예상 결과

**주기 개수: 2개**

**주기 1 (pk=2):**
- **실제 생리 기록**: 2025-01-26 ~ 2025-01-30 (두 번째 생리)
- **생리 예정일들**: 없음 (Period 3는 실제 기록)
- **생리 지연일**: 없음
- **배란기들**: 2025-02-04 ~ 2025-02-06 (생리 시작 10-12일차)
- **가임기들**: 2025-02-01 ~ 2025-02-09 (생리 시작 7-15일차)
- **주기**: 25일

**주기 2 (pk=3):**
- **실제 생리 기록**: 2025-02-20 ~ 2025-02-24 (세 번째 생리)
- **생리 예정일들**: 없음
- **생리 지연일**: 없음
- **배란기들**: 없음 (조회 범위 밖)
- **가임기들**: 없음 (조회 범위 밖)
- **주기**: 25일

#### 🔍 검증 포인트
- [ ] Period 2 전체 주기의 배란기가 짧은 주기 공식으로 정확히 계산되는가
- [ ] Period 2 전체 주기의 가임기가 짧은 주기 공식으로 정확히 계산되는가
- [ ] 다음 생리 정보(pk=3)가 함께 반환되는가

---

## 그룹 3: 장기 조회 및 특수 경계

### TC-02-07: 생리 기간 경계 조회
#### 📌 테스트 목적
조회 기간이 생리 종료일과 다음 생리 시작일에 걸쳐있을 때 두 주기가 모두 반환되는지 검증

#### 📝 입력 조건
- **조회 기간**: 2025-02-18 ~ 2025-02-22 (Period 2 종료 후 ~ Period 3 진행 중)

#### ✅ 예상 결과

**주기 개수: 2개**

**주기 1 (pk=2):**
- **실제 생리 기록**: 2025-01-26 ~ 2025-01-30 (두 번째 생리)
- **생리 예정일들**: 없음 (Period 3는 실제 기록)
- **생리 지연일**: 없음
- **배란기들**: 없음 (조회 범위 밖)
- **가임기들**: 없음 (조회 범위 밖)
- **주기**: 25일

**주기 2 (pk=3):**
- **실제 생리 기록**: 2025-02-20 ~ 2025-02-24 (세 번째 생리, 조회 범위와 부분 겹침)
- **생리 예정일들**: 없음
- **생리 지연일**: 없음
- **배란기들**: 없음 (조회 범위 밖)
- **가임기들**: 없음 (조회 범위 밖)
- **주기**: 25일

#### 🔍 검증 포인트
- [ ] Period 2 종료 후 ~ Period 3 진행 중 구간을 조회할 때 두 주기가 모두 반환되는가
- [ ] Period 3가 조회 범위와 부분 겹칠 때 올바르게 포함되는가

---

### TC-02-08: 3개월 조회
#### 📌 테스트 목적
장기간 조회 시 25일 주기의 예측이 반복적으로 정확한지 검증

#### 📝 입력 조건
- **조회 기간**: 2025-03-01 ~ 2025-05-31 (3개월)

#### ✅ 예상 결과
- **실제 생리 기록**: 2025-02-20 ~ 2025-02-24 (pk=3, 마지막 생리)
- **생리 예정일들**: 
  - 2025-03-17 ~ 2025-03-21
  - 2025-04-11 ~ 2025-04-15
  - 2025-05-06 ~ 2025-05-10
  - 2025-05-31 ~ 2025-06-04 (부분 포함)
- **생리 지연일**: 없음
- **배란기들**: 
  - 2025-03-01 ~ 2025-03-03 (첫 번째 주기)
  - 2025-03-26 ~ 2025-03-28 (두 번째 주기)
  - 2025-04-20 ~ 2025-04-22 (세 번째 주기)
  - 2025-05-15 ~ 2025-05-17 (네 번째 주기)
- **가임기들**: 
  - 2025-02-26 ~ 2025-03-06 (부분 포함)
  - 2025-03-23 ~ 2025-03-31
  - 2025-04-17 ~ 2025-04-25
  - 2025-05-12 ~ 2025-05-20
- **주기**: 25일

#### 🔍 검증 포인트
- [ ] 25일 주기가 일정하게 반복되는가
- [ ] 배란기가 매 주기마다 짧은 주기 공식으로 계산되는가
- [ ] 가임기가 매 주기마다 짧은 주기 공식으로 설정되는가
- [ ] 짧은 주기로 인해 3개월 동안 더 많은 주기가 포함되는가 (4개 주기)

---

## 그룹 4: 특정 기간 타입 조회

### TC-02-09: 생리 예정 기간 중 조회
#### 📌 테스트 목적
조회 기간이 생리 예정 기간을 포함할 때 정확히 표시되는지 검증

#### 📝 입력 조건
- **조회 기간**: 2025-03-17 ~ 2025-03-21

#### ✅ 예상 결과
- **실제 생리 기록**: 2025-02-20 ~ 2025-02-24 (pk=3, 마지막 생리)
- **생리 예정일들**: 2025-03-17 ~ 2025-03-21
- **생리 지연일**: 없음
- **배란기들**: 없음 (조회 기간 내 배란기 없음)
- **가임기들**: 없음 (조회 기간 내 가임기 없음)
- **주기**: 25일

#### 🔍 검증 포인트
- [ ] 생리 예정일이 조회 기간에 정확히 포함되는가
- [ ] 생리 기간만 조회 시 배란기/가임기는 표시되지 않는가

---

### TC-02-10: 배란기 중 조회
#### 📌 테스트 목적
조회 기간이 배란기를 포함할 때 정확히 표시되는지 검증 (25일 주기 공식 적용)

#### 📝 입력 조건
- **조회 기간**: 2025-03-01 ~ 2025-03-03

#### ✅ 예상 결과
- **실제 생리 기록**: 2025-02-20 ~ 2025-02-24 (pk=3, 마지막 생리)
- **생리 예정일들**: 없음 (조회 기간 내 생리 없음)
- **생리 지연일**: 없음
- **배란기들**: 2025-03-01 ~ 2025-03-03
- **가임기들**: 2025-02-26 ~ 2025-03-06 (조회 범위와 부분 겹침)
- **주기**: 25일

#### 🔍 검증 포인트
- [ ] 배란기가 짧은 주기 공식(period-16 ~ period-14)으로 정확히 계산되는가
- [ ] 배란기가 가임기 내에 포함되는가

---

### TC-02-11: 가임기 중 조회
#### 📌 테스트 목적
조회 기간이 가임기를 포함할 때 정확히 표시되는지 검증 (25일 주기 공식 적용)

#### 📝 입력 조건
- **조회 기간**: 2025-02-25 ~ 2025-02-28

#### ✅ 예상 결과
- **실제 생리 기록**: 2025-02-20 ~ 2025-02-24 (pk=3, 마지막 생리)
- **생리 예정일들**: 없음 (조회 기간 내 생리 없음)
- **생리 지연일**: 없음
- **배란기들**: 없음 (배란기는 2025-03-01부터 시작)
- **가임기들**: 2025-02-26 ~ 2025-03-06 (조회 범위와 부분 겹침)
- **주기**: 25일

#### 🔍 검증 포인트
- [ ] 가임기가 짧은 주기 공식(period-19 ~ period-11)으로 정확히 계산되는가
- [ ] 가임기 초반부만 조회해도 올바르게 표시되는가
- [ ] 배란기 전의 가임기가 표시되는가

---

## 그룹 5: 생리 지연 케이스

### TC-02-12: 생리 지연 1-7일 (예정일 뒤로 미룸)
#### 📌 테스트 목적
생리 예정일이 지나고 1-7일 지연되었을 때 지연 기간이 표시되고, 다음 예정일이 지연 다음날부터 시작하는지 검증 (25일 주기)

#### 📝 입력 조건
- **조회 기간**: 2025-03-10 ~ 2025-03-31
- **오늘 날짜**: 2025-03-23 (생리 예정일 03-17로부터 7일 지연)

#### ✅ 예상 결과
- **실제 생리 기록**: 2025-02-20 ~ 2025-02-24 (pk=3, 마지막 생리)
- **생리 지연일**: 7일
- **지연 기간**: 2025-03-17 ~ 2025-03-23 (예정일부터 오늘까지)
- **생리 예정일들**: 2025-03-24 ~ 2025-03-28 (지연 다음날부터 5일간)
- **배란기들**: 없음 (조회 범위 밖)
- **가임기들**: 없음 (조회 범위 밖)
- **주기**: 25일

#### 🔍 검증 포인트
- [ ] 생리 예정일이 지나고 1-7일 지연 시 지연 기간이 표시되는가
- [ ] 지연 기간이 예정일부터 오늘까지로 계산되는가
- [ ] 지연 다음날부터 새로운 예정일이 시작되는가
- [ ] 7일 지연까지는 예정일이 뒤로 밀려서 표시되는가

---

### TC-02-13: 생리 지연 8일 이상 (예정일 표시 안 함, 병원 권장)
#### 📌 테스트 목적
생리 예정일이 지나고 8일 이상 지연되었을 때 예정일과 지연 기간을 표시하지 않는지 검증 (병원 진료 권장 상태, 25일 주기)

#### 📝 입력 조건
- **조회 기간**: 2025-03-10 ~ 2025-04-30
- **오늘 날짜**: 2025-03-24 (생리 예정일 03-17로부터 8일 지연)

#### ✅ 예상 결과
- **실제 생리 기록**: 2025-02-20 ~ 2025-02-24 (pk=3, 마지막 생리)
- **생리 지연일**: 8일
- **지연 기간**: 없음 (8일 이상이면 지연 기간 표시 안 함)
- **생리 예정일들**: 없음 (8일 이상 지연 시 예정일 표시 안 함)
- **배란기들**: 없음 (조회 범위 밖)
- **가임기들**: 없음 (조회 범위 밖)
- **주기**: 25일

#### 🔍 검증 포인트
- [ ] 생리 예정일이 지나고 8일 이상 지연 시 지연 기간을 표시하지 않는가
- [ ] 8일 이상 지연 시 생리 예정일을 표시하지 않는가
- [ ] delayTheDays는 8로 계산되지만 delayDay는 null인가
- [ ] 사용자에게 병원 진료를 권장하는 상태임을 알 수 있는가
- [ ] `DayType.PERIOD_DELAYED_OVER` (8일 이상 지연) 상태로 표시되는가
- [ ] `SpecialCaseType.HOSPITAL_OVER_DELAY_8` 병원 권장 메시지가 있는가
