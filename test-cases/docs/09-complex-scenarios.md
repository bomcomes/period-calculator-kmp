# 복합 시나리오 테스트 케이스

## 📋 복합 시나리오 개요
각 복합 시나리오는 서로 다른 특수 상황을 가지며, 각 시나리오별로 다양한 조회 기간을 테스트합니다.

---

# 시나리오 1: 피임약 + 배란 테스트 (모순 데이터)

## 📌 공통 입력 조건

- **생리 기록**: 
  - 2025-01-01 ~ 2025-01-05
  - 2025-01-29 ~ 2025-02-02
- **배란 테스트 기록**: 
  - 2025-01-15: 양성 (피임약 복용 중인데 양성?)
  - 2025-02-12: 양성
- **배란일 직접 입력**: 없음
- **피임약 패키지 시작일**: 2025-01-06
- **오늘 날짜**: 2025-03-10
- **생리 주기 설정**: 
  - 수동 평균 주기: 28일
  - 수동 평균 기간: 5일
  - 자동 계산 사용: false
- **피임약 설정**:
  - 피임약으로 계산: true
  - 복용일: 21일
  - 휴약일: 7일

## TC-09-01-01: 1일 조회
### 📝 입력 조건
- **조회 기간**: 2025-03-15 ~ 2025-03-15

### ✅ 예상 결과
- **실제 생리 기록**: 2025-01-29 ~ 2025-02-02 (pk=2, 마지막 생리)
- **생리 예정일들**: 없음
- **배란기들**: 없음 (피임약 우선)
- **가임기들**: 없음 (피임약 우선)
- **주기**: 28일

### 🔍 검증 포인트
- [ ] 피임약 설정이 배란 테스트보다 우선되는가

## TC-09-01-02: 1주일 조회
### 📝 입력 조건
- **조회 기간**: 2025-03-10 ~ 2025-03-16

### ✅ 예상 결과
- **실제 생리 기록**: 2025-01-29 ~ 2025-02-02 (pk=2, 마지막 생리)
- **생리 예정일들**: 없음
- **배란기들**: 없음 (피임약 우선)
- **가임기들**: 없음 (피임약 우선)
- **주기**: 28일

## TC-09-01-03: 1개월 조회 (휴약기 포함)
### 📝 입력 조건
- **조회 기간**: 2025-02-20 ~ 2025-03-20

### ✅ 예상 결과
- **실제 생리 기록**: 2025-01-29 ~ 2025-02-02 (pk=2, 마지막 생리)
- **생리 예정일들**: 
  - 2025-02-24 ~ 2025-03-02 (휴약기)
- **배란기들**: 없음 (피임약 우선)
- **가임기들**: 없음 (피임약 우선)
- **주기**: 28일

### 🔍 검증 포인트
- [ ] 모순된 데이터에 대한 경고가 있는가
- [ ] 피임약 주기로 계산되는가

## TC-09-01-04: 3개월 조회
### 📝 입력 조건
- **조회 기간**: 2025-01-01 ~ 2025-03-31

### ✅ 예상 결과
- **실제 생리 기록**: 2025-01-29 ~ 2025-02-02 (pk=2, 마지막 생리)
- **생리 예정일들**: 
  - 2025-01-27 ~ 2025-02-02 (휴약기, 패키지 시작 1/6 기준)
  - 2025-02-24 ~ 2025-03-02
  - 2025-03-24 ~ 2025-03-30
- **배란기들**: 없음 (피임약 복용 시 배란 억제)
- **가임기들**: 없음 (피임약 복용 시)
- **주기**: 28일

---

# 시나리오 2: 장기간 기록 공백 후 재시작

## 📌 공통 입력 조건

- **생리 기록**: 
  - 2024-06-01 ~ 2024-06-05
  - 2024-06-29 ~ 2024-07-03
  - 2025-02-01 ~ 2025-02-05 (7개월 공백)
- **배란 테스트 기록**: 없음
- **배란일 직접 입력**: 없음
- **피임약 패키지 시작일**: 없음
- **오늘 날짜**: 2025-03-10
- **생리 주기 설정**: 
  - 수동 평균 주기: 30일
  - 수동 평균 기간: 5일
  - 자동 계산 사용: false
- **피임약 설정**:
  - 피임약으로 계산: false

## TC-09-02-01: 1일 조회
### 📝 입력 조건
- **조회 기간**: 2025-03-15 ~ 2025-03-15

### ✅ 예상 결과
- **실제 생리 기록**: 2025-02-01 ~ 2025-02-05 (pk=3, 마지막 생리)
- **생리 예정일들**: 없음
- **배란기들**: 없음
- **가임기들**: 없음
- **주기**: 30일

### 🔍 검증 포인트
- [ ] 오래된 데이터가 무시되는가

## TC-09-02-02: 1주일 조회
### 📝 입력 조건
- **조회 기간**: 2025-03-10 ~ 2025-03-16

### ✅ 예상 결과
- **실제 생리 기록**: 2025-02-01 ~ 2025-02-05 (pk=3, 마지막 생리)
- **생리 예정일들**: 없음
- **배란기들**: 없음
- **가임기들**: 없음
- **주기**: 30일

## TC-09-02-03: 1개월 조회
### 📝 입력 조건
- **조회 기간**: 2025-02-06 ~ 2025-03-06

### ✅ 예상 결과
- **실제 생리 기록**: 2025-02-01 ~ 2025-02-05 (pk=3, 마지막 생리)
- **생리 예정일들**: 
  - 2025-03-03 ~ 2025-03-06 (부분 포함, 수동 설정 30일 기준)
- **배란기들**: 
  - 2025-02-17 ~ 2025-02-17 (30일 주기, 32일 초과 공식: 14~16일차)
- **가임기들**: 
  - 2025-02-15 ~ 2025-02-19
- **주기**: 30일

### 🔍 검증 포인트
- [ ] 수동 설정으로 계산되는가
- [ ] 데이터 부족 안내가 표시되는가

## TC-09-02-04: 3개월 조회
### 📝 입력 조건
- **조회 기간**: 2025-02-01 ~ 2025-04-30

### ✅ 예상 결과
- **실제 생리 기록**: 2025-02-01 ~ 2025-02-05 (pk=3, 마지막 생리)
- **생리 예정일들**: 
  - 2025-03-03 ~ 2025-03-07 (수동 설정 30일 기준)
  - 2025-04-02 ~ 2025-04-06
- **배란기들**: 
  - 2025-02-17 ~ 2025-02-17
  - 2025-03-19 ~ 2025-03-19
- **가임기들**: 
  - 2025-02-15 ~ 2025-02-19
  - 2025-03-17 ~ 2025-03-21
- **주기**: 30일

---

# 시나리오 3: 매우 긴 조회 기간 (1년)

## 📌 공통 입력 조건

- **생리 기록**: 
  - 2025-01-01 ~ 2025-01-05
  - 2025-01-29 ~ 2025-02-02
  - 2025-02-26 ~ 2025-03-02
- **배란 테스트 기록**: 없음
- **배란일 직접 입력**: 없음
- **피임약 패키지 시작일**: 없음
- **오늘 날짜**: 2025-03-10
- **생리 주기 설정**: 
  - 평균 주기: 28일
  - 평균 기간: 5일
  - 수동 평균 주기: 28일
  - 수동 평균 기간: 5일
  - 자동 계산 사용: false
- **피임약 설정**:
  - 피임약으로 계산: false

## TC-09-03-01: 1일 조회
### 📝 입력 조건
- **조회 기간**: 2025-06-15 ~ 2025-06-15

### ✅ 예상 결과
- **실제 생리 기록**: 2025-02-26 ~ 2025-03-02 (pk=3, 마지막 생리)
- **생리 예정일들**: 없음
- **배란기들**: 없음
- **가임기들**: 
  - 2025-06-15 (가임기 중)
- **주기**: 28일

## TC-09-03-02: 1주일 조회
### 📝 입력 조건
- **조회 기간**: 2025-06-10 ~ 2025-06-16

### ✅ 예상 결과
- **실제 생리 기록**: 2025-02-26 ~ 2025-03-02 (pk=3, 마지막 생리)
- **생리 예정일들**: 없음
- **배란기들**: 
  - 2025-06-10 ~ 2025-06-12 (부분 포함)
- **가임기들**: 
  - 2025-06-10 ~ 2025-06-16 (부분 포함)
- **주기**: 28일

## TC-09-03-03: 6개월 조회
### 📝 입력 조건
- **조회 기간**: 2025-03-01 ~ 2025-08-31

### ✅ 예상 결과
- **실제 생리 기록**: 2025-02-26 ~ 2025-03-02 (pk=3, 마지막 생리)
- **생리 예정일들**: 
  - 2025-03-26 ~ 2025-03-30
  - 2025-04-23 ~ 2025-04-27
  - 2025-05-21 ~ 2025-05-25
  - 2025-06-18 ~ 2025-06-22
  - 2025-07-16 ~ 2025-07-20
  - 2025-08-13 ~ 2025-08-17
- **배란기들**: 각 주기마다 1개 (총 6개)
- **가임기들**: 각 주기마다 1개 (총 6개)
- **주기**: 28일

### 🔍 검증 포인트
- [ ] 긴 기간 조회 시 성능이 적절한가
- [ ] 모든 주기가 정확히 계산되는가

## TC-09-03-04: 1년 조회
### 📝 입력 조건
- **조회 기간**: 2025-01-01 ~ 2025-12-31

### ✅ 예상 결과
- **실제 생리 기록**: 2025-02-26 ~ 2025-03-02 (pk=3, 마지막 생리)
- **생리 예정일들**: 
  - 2025-03-26 ~ 2025-03-30
  - 2025-04-23 ~ 2025-04-27
  - ... (매 28일마다)
  - 2025-12-23 ~ 2025-12-27
  - (총 약 11개)
- **배란기들**: 각 주기마다 1개 (총 약 11개)
- **가임기들**: 각 주기마다 1개 (총 약 11개)
- **주기**: 28일

### 🔍 검증 포인트
- [ ] 1년 전체 조회가 가능한가
- [ ] 메모리 사용량이 적절한가
- [ ] 계산 시간이 합리적인가

---

# 시나리오 4: 생리 중 조회

## 📌 공통 입력 조건

- **생리 기록**: 
  - 2025-01-01 ~ 2025-01-05
  - 2025-01-29 ~ 2025-02-02
  - 2025-02-26 ~ 2025-03-02
- **배란 테스트 기록**: 없음
- **배란일 직접 입력**: 없음
- **피임약 패키지 시작일**: 없음
- **오늘 날짜**: 2025-03-28 (생리 3일차, 예정: 2025-03-26 ~ 2025-03-30)
- **생리 주기 설정**: 
  - 수동 평균 주기: 28일
  - 수동 평균 기간: 5일
  - 자동 계산 사용: false
- **피임약 설정**:
  - 피임약으로 계산: false

## TC-09-04-01: 1일 조회 (생리 중)
### 📝 입력 조건
- **조회 기간**: 2025-03-28 ~ 2025-03-28

### ✅ 예상 결과
- **실제 생리 기록**: 2025-02-26 ~ 2025-03-02 (pk=3, 마지막 생리)
- **생리 예정일들**: 
  - 2025-03-28 (부분, 실제: 2025-03-26 ~ 2025-03-30)
- **배란기들**: 없음
- **가임기들**: 없음
- **주기**: 28일

### 🔍 검증 포인트
- [ ] 현재 생리 중 상태가 정확히 표시되는가

## TC-09-04-02: 1주일 조회 (생리 시작 포함)
### 📝 입력 조건
- **조회 기간**: 2025-03-26 ~ 2025-04-01

### ✅ 예상 결과
- **실제 생리 기록**: 2025-02-26 ~ 2025-03-02 (pk=3, 마지막 생리)
- **생리 예정일들**: 
  - 2025-03-26 ~ 2025-03-30
- **배란기들**: 없음
- **가임기들**: 없음
- **주기**: 28일

## TC-09-04-03: 1개월 조회 (생리 전후)
### 📝 입력 조건
- **조회 기간**: 2025-03-15 ~ 2025-04-15

### ✅ 예상 결과
- **실제 생리 기록**: 2025-02-26 ~ 2025-03-02 (pk=3, 마지막 생리)
- **생리 예정일들**: 
  - 2025-03-26 ~ 2025-03-30 (현재 생리 중)
- **배란기들**: 
  - 2025-04-09 ~ 2025-04-11 (다음 주기)
- **가임기들**: 
  - 2025-04-04 ~ 2025-04-15 (부분 포함)
- **주기**: 28일

### 🔍 검증 포인트
- [ ] 생리 종료일이 정확한가
- [ ] 다음 주기 예측이 정확한가

## TC-09-04-04: 3개월 조회
### 📝 입력 조건
- **조회 기간**: 2025-03-01 ~ 2025-05-31

### ✅ 예상 결과
- **실제 생리 기록**: 2025-02-26 ~ 2025-03-02 (pk=3, 마지막 생리)
- **생리 예정일들**: 
  - 2025-03-26 ~ 2025-03-30 (현재 생리 중)
  - 2025-04-23 ~ 2025-04-27
  - 2025-05-21 ~ 2025-05-25
- **배란기들**: 
  - 2025-03-10 ~ 2025-03-12 (이전 주기)
  - 2025-04-07 ~ 2025-04-09
  - 2025-05-05 ~ 2025-05-07
- **가임기들**: 
  - 2025-03-05 ~ 2025-03-16 (이전 주기)
  - 2025-04-02 ~ 2025-04-13
  - 2025-04-30 ~ 2025-05-11
- **주기**: 28일
