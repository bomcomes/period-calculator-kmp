# 긴 주기 (35일) 테스트 케이스

## 📌 공통 입력 조건

모든 테스트 케이스는 동일한 입력 조건을 사용합니다:

- **생리 기록**: 
  - 2025-01-01 ~ 2025-01-05
  - 2025-02-05 ~ 2025-02-09 (35일 주기)
  - 2025-03-12 ~ 2025-03-16 (35일 주기)
- **배란 테스트 기록**: 없음
- **배란일 직접 입력**: 없음
- **피임약 패키지 시작일**: 없음
- **오늘 날짜**: 2025-04-10 (지연 테스트 제외)
- **생리 주기 설정**: 
  - 평균 주기: 35일 (실제 계산)
  - 평균 기간: 5일 (실제 계산)
  - 주기 길이 범위: 35-35일
  - 수동 평균 주기: 35일
  - 수동 평균 기간: 5일
  - 자동 계산 사용: false
- **피임약 설정**:
  - 피임약으로 계산: false

**⚠️ 주요 차이점**: 35일 주기는 32일 초과이므로 다른 계산 공식 적용
- 배란기: period - 16 ~ period - 14 = 19~21일차 (인덱스 18~20)
- 가임기: period - 19 ~ period - 11 = 16~24일차 (인덱스 15~23)

---

## TC-03-01: 1일 조회 (마지막 생리 이후)
### 📌 테스트 목적
마지막 생리 이후 특정 날짜 1일만 조회할 때 해당 날짜의 상태가 정확한지 검증

### 📝 입력 조건
- **조회 기간**: 
  - 시작: 2025-04-10
  - 종료: 2025-04-10

### ✅ 예상 결과
- **실제 생리 기록**: 2025-03-12 ~ 2025-03-16 (pk=3, 마지막 생리)
- **생리 예정일들**: 없음 (조회 기간 내 생리 없음, 다음 예정일은 2025-04-16)
- **생리 지연일**: 없음
- **배란기들**: 없음 (조회 기간 내 배란기 없음)
- **가임기들**: 없음 (조회 기간 내 가임기 없음)
- **주기**: 35일

### 🔍 검증 포인트
- [ ] 1일 조회 시 해당 날짜만 반환되는가
- [ ] 35일 주기 계산이 정확한가

---

## TC-03-02: 1주일 조회 (마지막 생리 이후)
### 📌 테스트 목적
마지막 생리 이후 1주일 기간 조회 시 35일 주기의 상태 변화가 정확히 표시되는지 검증

### 📝 입력 조건
- **조회 기간**: 
  - 시작: 2025-04-05
  - 종료: 2025-04-11

### ✅ 예상 결과
- **실제 생리 기록**: 2025-03-12 ~ 2025-03-16 (pk=3, 마지막 생리)
- **생리 예정일들**: 없음 (다음 예정일은 2025-04-16부터, 조회 범위 밖)
- **생리 지연일**: 없음
- **배란기들**: 없음 (배란기는 2025-03-31 ~ 2025-04-02, 조회 범위 밖)
- **가임기들**: 
  - 2025-03-28 ~ 2025-04-05 (조회 범위와 부분 겹침)
- **주기**: 35일

### 🔍 검증 포인트
- [ ] 가임기가 조회 기간에 부분적으로 포함되는가
- [ ] 배란기는 조회 범위 밖이므로 표시되지 않는가
- [ ] 35일 주기로 정확히 계산되는가

---

## TC-03-03: 1개월 조회 (마지막 생리 이후)
### 📌 테스트 목적
마지막 생리(Period 3) 전체 주기를 조회하여 실제 생리, 배란기, 가임기가 모두 정확히 표시되는지 검증

### 📝 입력 조건
- **조회 기간**: 
  - 시작: 2025-03-12
  - 종료: 2025-04-15

### ✅ 예상 결과
- **실제 생리 기록**: 2025-03-12 ~ 2025-03-16 (pk=3, 마지막 생리)
- **생리 예정일들**: 없음 (다음 예정일 2025-04-16은 조회 범위 밖)
- **생리 지연일**: 없음
- **배란기들**: 
  - 2025-03-31 ~ 2025-04-02 (생리 시작 19-21일차, period-16 ~ period-14)
- **가임기들**: 
  - 2025-03-28 ~ 2025-04-05 (생리 시작 16-24일차, period-19 ~ period-11)
- **주기**: 35일

### 🔍 검증 포인트
- [ ] 생리 전체 주기의 배란기가 19-21일차로 계산되는가
- [ ] 생리 전체 주기의 가임기가 16-24일차로 계산되는가
- [ ] 긴 주기로 인해 배란기가 늦게 오는가

---

## TC-03-04: 1일 조회 (과거)
### 📌 테스트 목적
과거 기록된 주기의 배란기 중 특정 날짜를 조회할 때 배란기/가임기가 정확히 표시되는지 검증

### 📝 입력 조건
- **조회 기간**: 
  - 시작: 2025-02-24
  - 종료: 2025-02-24

### ✅ 예상 결과

**주기 개수: 2개**

**주기 1 (pk=2):**
- **실제 생리 기록**: 2025-02-05 ~ 2025-02-09 (두 번째 생리)
- **생리 예정일들**: 없음 (Period 3는 실제 기록)
- **생리 지연일**: 없음
- **배란기들**: 
  - 2025-02-24 ~ 2025-02-26 (조회일 포함)
- **가임기들**: 
  - 2025-02-21 ~ 2025-03-01 (조회일 포함)
- **주기**: 35일

**주기 2 (pk=3):**
- **실제 생리 기록**: 2025-03-12 ~ 2025-03-16 (세 번째 생리)
- **생리 예정일들**: 없음
- **생리 지연일**: 없음
- **배란기들**: 없음 (조회 범위 밖)
- **가임기들**: 없음 (조회 범위 밖)
- **주기**: 35일

### 🔍 검증 포인트
- [ ] 과거 실제 기록의 배란기가 19-21일차로 정확히 계산되는가
- [ ] 과거 실제 기록의 가임기가 16-24일차로 계산되는가
- [ ] 다음 주기 정보(pk=3)가 함께 반환되는가

---

## TC-03-05: 1주일 조회 (과거)
### 📌 테스트 목적
과거 기록된 주기의 배란기/가임기가 포함된 1주일 기간 조회 시 해당 주의 상태 변화가 정확히 표시되는지 검증

### 📝 입력 조건
- **조회 기간**: 
  - 시작: 2025-02-21
  - 종료: 2025-02-27

### ✅ 예상 결과

**주기 개수: 2개**

**주기 1 (pk=2):**
- **실제 생리 기록**: 2025-02-05 ~ 2025-02-09 (두 번째 생리)
- **생리 예정일들**: 없음 (Period 3는 실제 기록)
- **생리 지연일**: 없음
- **배란기들**: 
  - 2025-02-24 ~ 2025-02-26 (조회 범위와 부분 겹침)
- **가임기들**: 
  - 2025-02-21 ~ 2025-03-01 (조회 범위와 부분 겹침)
- **주기**: 35일

**주기 2 (pk=3):**
- **실제 생리 기록**: 2025-03-12 ~ 2025-03-16 (세 번째 생리)
- **생리 예정일들**: 없음
- **생리 지연일**: 없음
- **배란기들**: 없음 (조회 범위 밖)
- **가임기들**: 없음 (조회 범위 밖)
- **주기**: 35일

### 🔍 검증 포인트
- [ ] 과거 1주일 조회 시 배란기/가임기가 모두 표시되는가
- [ ] 35일 주기의 과거 데이터 계산이 정확한가

---

## TC-03-06: 1개월 조회 (과거)
### 📌 테스트 목적
과거 기록된 Period 2 전체 주기를 조회할 때 생리일, 배란기, 가임기가 모두 정확히 표시되는지 검증

### 📝 입력 조건
- **조회 기간**: 
  - 시작: 2025-02-05
  - 종료: 2025-03-11

### ✅ 예상 결과

**주기 개수: 2개**

**주기 1 (pk=2):**
- **실제 생리 기록**: 2025-02-05 ~ 2025-02-09 (두 번째 생리)
- **생리 예정일들**: 없음 (Period 3는 실제 기록)
- **생리 지연일**: 없음
- **배란기들**: 
  - 2025-02-24 ~ 2025-02-26 (생리 시작 19-21일차)
- **가임기들**: 
  - 2025-02-21 ~ 2025-03-01 (생리 시작 16-24일차)
- **주기**: 35일

**주기 2 (pk=3):**
- **실제 생리 기록**: 2025-03-12 ~ 2025-03-16 (세 번째 생리)
- **생리 예정일들**: 없음
- **생리 지연일**: 없음
- **배란기들**: 없음 (조회 범위 밖)
- **가임기들**: 없음 (조회 범위 밖)
- **주기**: 35일

### 🔍 검증 포인트
- [ ] 과거 전체 주기 조회 시 생리일, 배란기, 가임기가 모두 표시되는가
- [ ] 35일 주기 전체가 정확히 계산되는가

---

## TC-03-07: 생리 기간 경계 조회
### 📌 테스트 목적
조회 기간이 생리 종료일과 다음 생리 시작일에 걸쳐있을 때 두 주기가 모두 반환되는지 검증

### 📝 입력 조건
- **조회 기간**: 
  - 시작: 2025-03-10
  - 종료: 2025-03-14

### ✅ 예상 결과

**주기 개수: 2개**

**주기 1 (pk=2):**
- **실제 생리 기록**: 2025-02-05 ~ 2025-02-09 (두 번째 생리)
- **생리 예정일들**: 없음 (Period 3는 실제 기록)
- **생리 지연일**: 없음
- **배란기들**: 없음 (조회 범위 밖)
- **가임기들**: 없음 (조회 범위 밖)
- **주기**: 35일

**주기 2 (pk=3):**
- **실제 생리 기록**: 2025-03-12 ~ 2025-03-16 (세 번째 생리, 조회 범위와 부분 겹침)
- **생리 예정일들**: 없음
- **생리 지연일**: 없음
- **배란기들**: 없음 (조회 범위 밖)
- **가임기들**: 없음 (조회 범위 밖)
- **주기**: 35일

### 🔍 검증 포인트
- [ ] 주기 경계에서 두 주기가 정확히 반환되는가
- [ ] 기간 3의 생리일이 정확히 표시되는가
- [ ] 기간 2의 데이터는 조회 범위 밖이므로 비어있는가

---

## TC-03-08: 3개월 조회
### 📌 테스트 목적
장기간 조회 시 35일 주기의 예측이 반복적으로 정확한지 검증

### 📝 입력 조건
- **조회 기간**: 
  - 시작: 2025-03-27
  - 종료: 2025-06-30

### ✅ 예상 결과
- **실제 생리 기록**: 2025-03-12 ~ 2025-03-16 (pk=3, 마지막 생리)
- **생리 예정일들**: 
  - 2025-04-16 ~ 2025-04-20
  - 2025-05-21 ~ 2025-05-25
  - 2025-06-25 ~ 2025-06-29
- **생리 지연일**: 없음
- **배란기들**: 
  - 2025-03-31 ~ 2025-04-02 (Period 3, 19-21일차)
  - 2025-05-05 ~ 2025-05-07 (Period 4)
  - 2025-06-09 ~ 2025-06-11 (Period 5)
- **가임기들**: 
  - 2025-03-28 ~ 2025-04-05 (Period 3, 16-24일차, 조회 범위와 부분 겹침)
  - 2025-05-02 ~ 2025-05-10 (Period 4)
  - 2025-06-06 ~ 2025-06-14 (Period 5)
- **주기**: 35일

### 🔍 검증 포인트
- [ ] 35일 주기가 일정하게 반복되는가
- [ ] 배란기가 매 주기마다 19-21일차로 계산되는가
- [ ] 가임기가 매 주기마다 16-24일차로 설정되는가
- [ ] 긴 주기로 인해 3개월 동안 적은 주기가 포함되는가 (약 2.5~3개)

---

## TC-03-09: 생리 예정 기간 중 조회
### 📌 테스트 목적
조회 기간이 생리 예정 기간을 포함할 때 정확히 표시되는지 검증

### 📝 입력 조건
- **조회 기간**: 
  - 시작: 2025-04-16
  - 종료: 2025-04-20

### ✅ 예상 결과
- **실제 생리 기록**: 2025-03-12 ~ 2025-03-16 (pk=3, 마지막 생리)
- **생리 예정일들**: 
  - 2025-04-16 ~ 2025-04-20
- **생리 지연일**: 없음
- **배란기들**: 없음 (조회 기간 내 배란기 없음)
- **가임기들**: 없음 (조회 기간 내 가임기 없음)
- **주기**: 35일

### 🔍 검증 포인트
- [ ] 생리 예정일이 조회 기간에 정확히 포함되는가
- [ ] 생리 기간만 조회 시 배란기/가임기는 표시되지 않는가

---

## TC-03-10: 배란기 중 조회
### 📌 테스트 목적
조회 기간이 배란기를 포함할 때 정확히 표시되는지 검증 (35일 주기 공식 적용)

### 📝 입력 조건
- **조회 기간**: 
  - 시작: 2025-03-31
  - 종료: 2025-04-02

### ✅ 예상 결과
- **실제 생리 기록**: 2025-03-12 ~ 2025-03-16 (pk=3, 마지막 생리)
- **생리 예정일들**: 없음 (조회 기간 내 생리 없음)
- **생리 지연일**: 없음
- **배란기들**: 
  - 2025-03-31 ~ 2025-04-02
- **가임기들**: 
  - 2025-03-28 ~ 2025-04-05 (조회 범위와 부분 겹침)
- **주기**: 35일

### 🔍 검증 포인트
- [ ] 배란기가 19-21일차로 정확히 계산되는가
- [ ] 배란기가 가임기 내에 포함되는가

---

## TC-03-11: 가임기 중 조회
### 📌 테스트 목적
조회 기간이 가임기를 포함할 때 정확히 표시되는지 검증 (35일 주기 공식 적용)

### 📝 입력 조건
- **조회 기간**: 
  - 시작: 2025-03-28
  - 종료: 2025-03-30

### ✅ 예상 결과
- **실제 생리 기록**: 2025-03-12 ~ 2025-03-16 (pk=3, 마지막 생리)
- **생리 예정일들**: 없음 (조회 기간 내 생리 없음)
- **생리 지연일**: 없음
- **배란기들**: 없음 (배란기는 2025-03-31부터 시작)
- **가임기들**: 
  - 2025-03-28 ~ 2025-04-05 (조회 범위와 부분 겹침)
- **주기**: 35일

### 🔍 검증 포인트
- [ ] 가임기가 16-24일차로 정확히 계산되는가
- [ ] 가임기 초반부만 조회해도 올바르게 표시되는가
- [ ] 배란기 전의 가임기가 표시되는가

---

## TC-03-12: 생리 지연 1-7일 (예정일 뒤로 미룸)
### 📌 테스트 목적
생리가 1-7일 지연되었을 때 예정일이 지연일만큼 미뤄지고 배란기/가임기도 함께 조정되는지 검증

### 📝 입력 조건
- **조회 기간**: 
  - 시작: 2025-04-05
  - 종료: 2025-05-31
- **오늘 날짜**: 2025-04-22 (생리 예정일 04-16로부터 7일 지연)

### ✅ 예상 결과
- **실제 생리 기록**: 2025-03-12 ~ 2025-03-16 (pk=3, 마지막 생리)
- **생리 지연일**: 7일
- **지연 기간**: 2025-04-16 ~ 2025-04-22 (예정일부터 오늘까지)
- **생리 예정일들**: 
  - 2025-04-23 ~ 2025-04-27 (지연 다음날부터 5일간)
  - 2025-05-28 ~ 2025-06-01 (두 번째 예정일, 조회 범위와 부분 겹침)
- **배란기**: 2025-05-12 ~ 2025-05-14 (첫 번째 예정일 배란기, 지연 7일 적용)
- **가임기들**: 
  - 2025-03-28 ~ 2025-04-05 (Period 3의 가임기, 조회 시작일과 겹침)
  - 2025-05-09 ~ 2025-05-17 (첫 번째 예정일 가임기, 지연 7일 적용)
- **주기**: 35일

### 🔍 검증 포인트
- [ ] 1-7일 지연 시 예정일이 지연일만큼 미뤄지는가
- [ ] 배란기/가임기도 지연일만큼 함께 조정되는가
- [ ] 미래 예측 주기가 계속 생성되는가
- [ ] 조회 범위 내 두 번째 예정일이 포함되는가

---

## TC-03-13: 생리 지연 8일 이상 (병원 추천)
### 📌 테스트 목적
생리가 8일 이상 지연되었을 때 미래 예측을 중단하고 병원 방문을 권장하는지 검증

### 📝 입력 조건
- **조회 기간**: 
  - 시작: 2025-04-05
  - 종료: 2025-06-30
- **오늘 날짜**: 2025-04-23 (생리 예정일 04-16로부터 8일 지연)

### ✅ 예상 결과
- **실제 생리 기록**: 2025-03-12 ~ 2025-03-16 (pk=3, 마지막 생리)
- **생리 지연일**: 8일
- **지연 기간**: 2025-04-16 ~ 2025-04-23 (예정일부터 오늘까지)
- **생리 예정일**: 없음 (8일 이상 지연 시 예정일 표시 안 함)
- **배란기**: 없음 (조회 범위 밖)
- **가임기**: 2025-03-28 ~ 2025-04-05 (Period 3의 가임기, 조회 시작일과 겹침)
- **주기**: 35일

### 🔍 검증 포인트
- [ ] 8일 이상 지연 시 미래 예측(예정일, 배란기, 가임기)이 중단되는가
- [ ] 지연 기간은 표시되는가
- [ ] 미래 주기 예측이 생성되지 않는가
