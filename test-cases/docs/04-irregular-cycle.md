# 불규칙한 주기 테스트 케이스

## 📌 공통 입력 조건

모든 테스트 케이스는 동일한 입력 조건을 사용합니다:

- **생리 기록**: 
  - 2025-01-01 ~ 2025-01-05
  - 2025-01-26 ~ 2025-01-30 (25일 주기)
  - 2025-02-27 ~ 2025-03-03 (32일 주기)
  - 2025-03-30 ~ 2025-04-03 (31일 주기)
- **배란 테스트 기록**: 없음
- **배란일 직접 입력**: 없음
- **피임약 패키지 시작일**: 없음
- **오늘 날짜**: 2025-04-20
- **생리 주기 설정**: 
  - 평균 주기: 29일 (실제 계산: (25+32+31)/3 = 29.33 → 29)
  - 평균 기간: 5일 (실제 계산)
  - 주기 길이 범위: 25-32일
  - 수동 평균 주기: 28일
  - 수동 평균 기간: 5일
  - 자동 계산 사용: true
- **피임약 설정**:
  - 피임약으로 계산: false

**⚠️ 주요 차이점**: 불규칙한 주기이지만 평균 29일은 26-32일 범위 내
- 배란기: 13-15일차 (인덱스 12~14)
- 가임기: 8-19일차 (인덱스 7~18)
- 자동 계산 모드 사용

---

## TC-04-01: 1일 조회
### 📌 테스트 목적
특정 날짜 1일만 조회할 때 불규칙 주기의 평균 계산이 정확한지 검증

### 📝 입력 조건
- **조회 기간**: 
  - 시작: 2025-05-15
  - 종료: 2025-05-15

### ✅ 예상 결과
- **실제 생리 기록**: 2025-03-30 ~ 2025-04-03 (pk=4, 마지막 생리)
- **생리 예정일들**: 없음 (조회 기간 내 생리 없음)
- **생리 지연일**: 없음
- **배란기들**: 없음 (조회 기간 내 배란기 없음)
- **가임기들**: 없음 (조회 기간 내 가임기 없음)
- **주기**: 29일

### 🔍 검증 포인트
- [ ] 1일 조회 시 해당 날짜만 반환되는가
- [ ] 불규칙 주기의 평균이 정확히 계산되는가 (29일)

---

## TC-04-02: 1주일 조회
### 📌 테스트 목적
1주일 기간 조회 시 불규칙 주기의 상태 변화가 정확히 표시되는지 검증

### 📝 입력 조건
- **조회 기간**: 
  - 시작: 2025-05-10
  - 종료: 2025-05-16

### ✅ 예상 결과
- **실제 생리 기록**: 2025-03-30 ~ 2025-04-03 (pk=4, 마지막 생리)
- **생리 예정일들**: 없음 (조회 기간 내 생리 없음)
- **생리 지연일**: 없음
- **배란기들**: 
  - 2025-05-12 ~ 2025-05-14 (부분 포함)
- **가임기들**: 
  - 2025-05-07 ~ 2025-05-18 (조회 범위 05-10 ~ 05-16와 부분 겹침)
- **주기**: 29일

### 🔍 검증 포인트
- [ ] 평균 주기 29일로 계산되는가
- [ ] 배란기가 13-15일차로 계산되는가
- [ ] 가임기가 8-19일차로 계산되는가

---

## TC-04-03: 1개월 조회 (생리 사이)
### 📌 테스트 목적
실제 기록된 두 생리 기간 사이의 구간을 조회할 때 불규칙 주기의 배란기/가임기가 정확한지 검증하고, 다음 생리 정보도 함께 제공되는지 확인

### 📝 입력 조건
- **조회 기간**: 
  - 시작: 2025-03-04
  - 종료: 2025-03-29

### ✅ 예상 결과

**주기 개수: 2개**

**주기 1 (pk=3):**
- **실제 생리 기록**: 2025-02-27 ~ 2025-03-03 (세 번째 생리)
- **생리 예정일들**: 없음 (Period 4는 실제 기록, 예정일이 아님)
- **생리 지연일**: 없음
- **배란기들**: 
  - 2025-03-11 ~ 2025-03-13 (생리 시작 13-15일차)
- **가임기들**: 
  - 2025-03-06 ~ 2025-03-17 (생리 시작 8-19일차)
- **주기**: 29일

**주기 2 (pk=4):**
- **실제 생리 기록**: 2025-03-30 ~ 2025-04-03 (네 번째 생리, 다음 주기 정보 제공)
- **생리 예정일들**: 없음 (조회 범위 밖)
- **생리 지연일**: 없음
- **배란기들**: 없음 (조회 범위 밖)
- **가임기들**: 없음 (조회 범위 밖)
- **주기**: 29일

### 🔍 검증 포인트
- [ ] 생리 사이 구간의 배란기가 13-15일차로 계산되는가 (pk=3)
- [ ] 생리 사이 구간의 가임기가 8-19일차로 계산되는가 (pk=3)
- [ ] 불규칙해도 평균값으로 예측하는가 (pk=3)
- [ ] 다음 생리 정보(pk=4)가 함께 반환되어 주기의 끝을 알 수 있는가
- [ ] pk=4의 배란기/가임기는 조회 범위 밖이므로 비어있는가

---

## TC-04-04: 3개월 조회
### 📌 테스트 목적
장기간 조회 시 불규칙 주기의 예측이 평균값으로 반복되는지 검증

### 📝 입력 조건
- **조회 기간**: 
  - 시작: 2025-04-01
  - 종료: 2025-06-30

### ✅ 예상 결과
- **실제 생리 기록**: 2025-03-30 ~ 2025-04-03 (pk=4, 마지막 생리)
- **생리 예정일들**: 
  - 2025-04-29 ~ 2025-05-03 (29일 기준)
  - 2025-05-28 ~ 2025-06-01
  - 2025-06-26 ~ 2025-06-30
- **생리 지연일**: 없음
- **배란기들**: 
  - 2025-04-13 ~ 2025-04-15 (13-15일차)
  - 2025-05-12 ~ 2025-05-14
  - 2025-06-10 ~ 2025-06-12
- **가임기들**: 
  - 2025-04-08 ~ 2025-04-19 (8-19일차)
  - 2025-05-07 ~ 2025-05-18
  - 2025-06-05 ~ 2025-06-16
- **주기**: 29일

### 🔍 검증 포인트
- [ ] 불규칙한 주기의 평균이 정확히 계산되는가 (29일)
- [ ] 평균 주기로 일정하게 반복 예측되는가
- [ ] 배란기가 매 주기마다 13-15일차로 계산되는가
- [ ] 가임기가 매 주기마다 8-19일차로 설정되는가
- [ ] 자동 계산 모드가 적용되는가

---

## TC-04-05: 생리 기간 중 조회
### 📌 테스트 목적
조회 기간이 생리 기간을 포함할 때 정확히 표시되는지 검증

### 📝 입력 조건
- **조회 기간**: 
  - 시작: 2025-04-29
  - 종료: 2025-05-03

### ✅ 예상 결과
- **실제 생리 기록**: 2025-03-30 ~ 2025-04-03 (pk=4, 마지막 생리)
- **생리 예정일들**: 
  - 2025-04-29 ~ 2025-05-03
- **생리 지연일**: 없음
- **배란기들**: 없음 (조회 기간 내 배란기 없음)
- **가임기들**: 없음 (조회 기간 내 가임기 없음)
- **주기**: 29일

### 🔍 검증 포인트
- [ ] 생리 예정일이 조회 기간에 정확히 포함되는가
- [ ] 생리 기간만 조회 시 배란기/가임기는 표시되지 않는가

---

## TC-04-06: 배란기 중 조회
### 📌 테스트 목적
조회 기간이 배란기를 포함할 때 정확히 표시되는지 검증 (불규칙 주기, 평균 공식 적용)

### 📝 입력 조건
- **조회 기간**: 
  - 시작: 2025-05-12
  - 종료: 2025-05-14

### ✅ 예상 결과
- **실제 생리 기록**: 2025-03-30 ~ 2025-04-03 (pk=4, 마지막 생리)
- **생리 예정일들**: 없음 (조회 기간 내 생리 없음)
- **생리 지연일**: 없음
- **배란기들**: 
  - 2025-05-12 ~ 2025-05-14
- **가임기들**: 
  - 2025-05-07 ~ 2025-05-18 (조회 범위 05-12 ~ 05-14와 부분 겹침)
- **주기**: 29일

### 🔍 검증 포인트
- [ ] 배란기가 평균 주기 기준 13-15일차로 정확히 계산되는가
- [ ] 배란기가 가임기 내에 포함되는가

---

## TC-04-07: 가임기 중 조회
### 📌 테스트 목적
조회 기간이 가임기를 포함할 때 정확히 표시되는지 검증 (불규칙 주기, 평균 공식 적용)

### 📝 입력 조건
- **조회 기간**: 
  - 시작: 2025-05-07
  - 종료: 2025-05-11

### ✅ 예상 결과
- **실제 생리 기록**: 2025-03-30 ~ 2025-04-03 (pk=4, 마지막 생리)
- **생리 예정일들**: 없음 (조회 기간 내 생리 없음)
- **생리 지연일**: 없음
- **배란기들**: 없음 (배란기는 2025-05-12부터 시작)
- **가임기들**: 
  - 2025-05-07 ~ 2025-05-18 (조회 범위 05-07 ~ 05-11와 부분 겹침)
- **주기**: 29일

### 🔍 검증 포인트
- [ ] 가임기가 평균 주기 기준 8-19일차로 정확히 계산되는가
- [ ] 가임기 초반부만 조회해도 올바르게 표시되는가
- [ ] 배란기 전의 가임기가 표시되는가
