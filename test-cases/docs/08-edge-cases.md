# 엣지 케이스 테스트

## 📋 엣지 케이스 개요
각 엣지 케이스는 서로 다른 입력 조건을 가지며, 각 케이스별로 다양한 조회 기간을 테스트합니다.

---

# 케이스 1: 생리 지연

## 📌 공통 입력 조건

- **생리 기록**: 
  - 2025-01-01 ~ 2025-01-05
  - 2025-01-29 ~ 2025-02-02
- **배란 테스트 기록**: 없음
- **배란일 직접 입력**: 없음
- **피임약 패키지 시작일**: 없음
- **오늘 날짜**: 2025-03-10 (예정일 2025-03-02로부터 8일 지연, 지연 테스트용)
- **생리 주기 설정**: 
  - 수동 평균 주기: 28일
  - 수동 평균 기간: 5일
  - 자동 계산 사용: false
- **피임약 설정**:
  - 피임약으로 계산: false

## TC-08-01-01: 1일 조회 (지연 기간 중)
### 📝 입력 조건
- **조회 기간**: 2025-03-10 ~ 2025-03-10

### ✅ 예상 결과
- **실제 생리 기록**: 2025-01-29 ~ 2025-02-02 (pk=2, 마지막 생리)
- **생리 예정일들**: 없음
- **생리 지연일**: 8일 (3/10 - 3/02)
- **주기**: 28일

### 🔍 검증 포인트
- [ ] 지연일이 정확히 계산되는가
- [ ] 8일 이상 지연 시 특별 알림이 있는가

## TC-08-01-02: 1주일 조회 (지연 기간 중)
### 📝 입력 조건
- **조회 기간**: 2025-03-05 ~ 2025-03-11

### ✅ 예상 결과
- **실제 생리 기록**: 2025-01-29 ~ 2025-02-02 (pk=2, 마지막 생리)
- **생리 예정일들**: 없음
- **생리 지연일**: 8일 (오늘 3/10 기준)
- **주기**: 28일

## TC-08-01-03: 1개월 조회 (지연 포함)
### 📝 입력 조건
- **조회 기간**: 2025-02-26 ~ 2025-03-25

### ✅ 예상 결과
- **실제 생리 기록**: 2025-01-29 ~ 2025-02-02 (pk=2, 마지막 생리)
- **생리 예정일들**: 
  - 2025-02-26 ~ 2025-03-02 (지연 중)
- **생리 지연일**: 8일
- **배란기들**: 없음 (지연으로 인한 주기 불확실)
- **가임기들**: 없음
- **주기**: 28일

### 🔍 검증 포인트
- [ ] 지연된 생리 예정일이 표시되는가
- [ ] 다음 주기 예측이 보류되는가

## TC-08-01-04: 3개월 조회
### 📝 입력 조건
- **조회 기간**: 2025-02-01 ~ 2025-04-30

### ✅ 예상 결과
- **실제 생리 기록**: 2025-01-29 ~ 2025-02-02 (pk=2, 마지막 생리)
- **생리 예정일들**: 
  - 2025-02-26 ~ 2025-03-02 (지연 중)
  - 다음 주기는 실제 생리 시작 후 계산
- **생리 지연일**: 8일
- **주기**: 28일

---

# 케이스 2: 매우 짧은 주기 (21일)

## 📌 공통 입력 조건

- **생리 기록**: 
  - 2025-01-01 ~ 2025-01-04
  - 2025-01-22 ~ 2025-01-25 (21일 주기)
  - 2025-02-12 ~ 2025-02-15 (21일 주기)
- **배란 테스트 기록**: 없음
- **배란일 직접 입력**: 없음
- **피임약 패키지 시작일**: 없음
- **오늘 날짜**: 2025-03-15
- **생리 주기 설정**: 
  - 평균 주기: 21일 (실제 계산)
  - 평균 기간: 4일 (실제 계산)
  - 주기 길이 범위: 21-21일
  - 수동 평균 주기: 28일
  - 수동 평균 기간: 5일
  - 자동 계산 사용: true
- **피임약 설정**:
  - 피임약으로 계산: false

**⚠️ 계산 공식**: 21일은 26일 미만
- 배란기: period - 16 ~ period - 14 = 5~7일차
- 가임기: period - 19 ~ period - 11 = 2~10일차

## TC-08-02-01: 1일 조회
### 📝 입력 조건
- **조회 기간**: 2025-03-15 ~ 2025-03-15

### ✅ 예상 결과
- **실제 생리 기록**: 2025-02-12 ~ 2025-02-15 (pk=3, 마지막 생리)
- **생리 예정일들**: 없음
- **주기**: 21일

## TC-08-02-02: 1주일 조회
### 📝 입력 조건
- **조회 기간**: 2025-03-10 ~ 2025-03-16

### ✅ 예상 결과
- **실제 생리 기록**: 2025-02-12 ~ 2025-02-15 (pk=3, 마지막 생리)
- **생리 예정일들**: 
  - 2025-03-14 ~ 2025-03-16 (부분 포함)
- **배란기들**: 없음
- **가임기들**: 없음
- **주기**: 21일

## TC-08-02-03: 1개월 조회
### 📝 입력 조건
- **조회 기간**: 2025-02-16 ~ 2025-03-16

### ✅ 예상 결과
- **실제 생리 기록**: 2025-02-12 ~ 2025-02-15 (pk=3, 마지막 생리)
- **생리 예정일들**: 
  - 2025-03-05 ~ 2025-03-08
- **배란기들**: 
  - 2025-02-19 ~ 2025-02-21 (5-7일차)
  - 2025-03-09 ~ 2025-03-11
- **가임기들**: 
  - 2025-02-16 ~ 2025-02-24 (2-10일차)
  - 2025-03-06 ~ 2025-03-14
- **주기**: 21일

### 🔍 검증 포인트
- [ ] 21일 주기가 정확히 반복되는가
- [ ] 짧은 주기 공식이 적용되는가

## TC-08-02-04: 3개월 조회
### 📝 입력 조건
- **조회 기간**: 2025-02-01 ~ 2025-04-30

### ✅ 예상 결과
- **실제 생리 기록**: 2025-02-12 ~ 2025-02-15 (pk=3, 마지막 생리)
- **생리 예정일들**: 
  - 2025-03-05 ~ 2025-03-08
  - 2025-03-26 ~ 2025-03-29
  - 2025-04-16 ~ 2025-04-19
- **배란기들**: 
  - 2025-02-19 ~ 2025-02-21
  - 2025-03-09 ~ 2025-03-11
  - 2025-03-30 ~ 2025-04-01
  - 2025-04-20 ~ 2025-04-22
- **가임기들**: 
  - 2025-02-16 ~ 2025-02-24
  - 2025-03-06 ~ 2025-03-14
  - 2025-03-27 ~ 2025-04-04
  - 2025-04-17 ~ 2025-04-25
- **주기**: 21일

### 🔍 검증 포인트
- [ ] 짧은 주기로 인해 더 많은 주기가 포함되는가
- [ ] 배란기/가임기가 일찍 시작하는가

---

# 케이스 3: 매우 긴 주기 (45일)

## 📌 공통 입력 조건

- **생리 기록**: 
  - 2025-01-01 ~ 2025-01-06
  - 2025-02-15 ~ 2025-02-20 (45일 주기)
  - 2025-04-01 ~ 2025-04-06 (45일 주기)
- **배란 테스트 기록**: 없음
- **배란일 직접 입력**: 없음
- **피임약 패키지 시작일**: 없음
- **오늘 날짜**: 2025-05-15
- **생리 주기 설정**: 
  - 평균 주기: 45일 (실제 계산)
  - 평균 기간: 6일 (실제 계산)
  - 주기 길이 범위: 45-45일
  - 수동 평균 주기: 28일
  - 수동 평균 기간: 5일
  - 자동 계산 사용: true
- **피임약 설정**:
  - 피임약으로 계산: false

**⚠️ 계산 공식**: 45일은 32일 초과
- 배란기: period - 16 ~ period - 14 = 29~31일차
- 가임기: period - 19 ~ period - 11 = 26~34일차

## TC-08-03-01: 1일 조회
### 📝 입력 조건
- **조회 기간**: 2025-05-15 ~ 2025-05-15

### ✅ 예상 결과
- **실제 생리 기록**: 2025-04-01 ~ 2025-04-06 (pk=3, 마지막 생리)
- **생리 예정일들**: 없음
- **배란기들**: 없음
- **가임기들**: 없음
- **주기**: 45일

## TC-08-03-02: 1주일 조회
### 📝 입력 조건
- **조회 기간**: 2025-05-10 ~ 2025-05-16

### ✅ 예상 결과
- **실제 생리 기록**: 2025-04-01 ~ 2025-04-06 (pk=3, 마지막 생리)
- **생리 예정일들**: 
  - 2025-05-16 ~ 2025-05-16 (부분 포함, 실제: 2025-05-16 ~ 2025-05-21)
- **주기**: 45일

## TC-08-03-03: 1개월 조회
### 📝 입력 조건
- **조회 기간**: 2025-04-07 ~ 2025-05-06

### ✅ 예상 결과
- **실제 생리 기록**: 2025-04-01 ~ 2025-04-06 (pk=3, 마지막 생리)
- **생리 예정일들**: 없음 (다음 생리는 2025-05-16)
- **배란기들**: 
  - 2025-04-30 ~ 2025-05-02 (29-31일차)
- **가임기들**: 
  - 2025-04-27 ~ 2025-05-05 (26-34일차)
- **주기**: 45일

### 🔍 검증 포인트
- [ ] 긴 주기로 인해 배란기가 늦게 오는가
- [ ] 가임기가 생리 시작 후 거의 한 달 뒤인가

## TC-08-03-04: 3개월 조회
### 📝 입력 조건
- **조회 기간**: 2025-04-01 ~ 2025-06-30

### ✅ 예상 결과
- **실제 생리 기록**: 2025-04-01 ~ 2025-04-06 (pk=3, 마지막 생리)
- **생리 예정일들**: 
  - 2025-04-01 ~ 2025-04-06
  - 2025-05-16 ~ 2025-05-21
  - 2025-06-30 ~ 2025-07-05 (부분 포함)
- **배란기들**: 
  - 2025-04-30 ~ 2025-05-02 (29-31일차)
  - 2025-06-14 ~ 2025-06-16
- **가임기들**: 
  - 2025-04-27 ~ 2025-05-05 (26-34일차)
  - 2025-06-11 ~ 2025-06-19
- **주기**: 45일

### 🔍 검증 포인트
- [ ] 45일 주기가 정확히 반복되는가
- [ ] 긴 주기로 인해 3개월 동안 적은 주기가 포함되는가 (약 2개)
- [ ] 배란기/가임기가 생리 시작 후 거의 한 달 뒤에 오는가
