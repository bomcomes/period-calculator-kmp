# 표준일 피임법 검증

## 📋 방법 개요
**적용 대상:** 26-32일의 규칙적인 생리 주기

## 📐 계산 공식

### 기간 분류
| 구분 | 기간 | 계산 방식 |
|------|------|-----------|
| 🟢 **안전기 (전반)** | 1-7일 | 고정 |
| 🔴 **가임기** | 8-19일 | 고정 |
| 🟠 **배란기** | 13-15일 | 고정 |
| 🟢 **안전기 (후반)** | 20일~ | 고정 |

### 신뢰도
- **실패 확률:** 5%
- **특징:** 주기 길이와 무관하게 고정된 날짜 사용

## 📌 공통 입력 조건

모든 테스트 케이스는 동일한 입력 조건을 사용합니다:

- 생리 기록:
  - 2025-01-01 ~ 2025-01-05 (pk=1)
  - 2025-02-01 ~ 2025-02-05 (pk=2)
  - 2025-03-01 ~ 2025-03-05 (pk=3)
- 배란 테스트 기록: 없음
- 배란일 직접 입력: 없음
- 오늘 날짜: 2025-03-15
- 생리 주기 설정:
  - 평균 주기: 30일 (실제 계산)
  - 평균 기간: 5일 (실제 계산)
  - 수동 평균 주기: 28일
  - 수동 평균 기간: 5일
  - 자동 계산 사용: true
- 피임약 설정:
  - 피임약으로 계산: false

---

## 그룹 1: 마지막 생리 이후 조회 (Period 3 기준)

### TC-01-01: 1일 조회 (마지막 생리 이후)
#### 📌 테스트 목적
마지막 생리 이후 특정 날짜의 가임기 상태를 정확히 검증

#### 📝 입력 조건
- 조회 기간: 2025-03-15 ~ 2025-03-15

#### ✅ 예상 결과
**주기 개수: 1개**

**주기 1 (pk=3):**
- pk: "3"
- 실제 생리 기록: 2025-03-01 ~ 2025-03-05
- 지연 일수: 0일
- 지연 기간: null
- 생리 예정일들: []
- 가임기들: [2025-03-08 ~ 2025-03-19]
- 배란기들: [2025-03-13 ~ 2025-03-15]
- 주기: 30
- 배란일 사용자 입력: false
- 피임약 기준 주기: null
- 남은 휴약일: null

---

### TC-01-02: 1주일 조회 (마지막 생리 이후)
#### 📌 테스트 목적
마지막 생리 이후 1주일 조회 시 배란기가 정확히 표시되는지 검증

#### 📝 입력 조건
- 조회 기간: 2025-03-09 ~ 2025-03-15

#### ✅ 예상 결과
**주기 개수: 1개**

**주기 1 (pk=3):**
- pk: "3"
- 실제 생리 기록: 2025-03-01 ~ 2025-03-05
- 지연 일수: 0일
- 지연 기간: null
- 생리 예정일들: []
- 가임기들: [2025-03-08 ~ 2025-03-19]
- 배란기들: [2025-03-13 ~ 2025-03-15]
- 주기: 30
- 배란일 사용자 입력: false
- 피임약 기준 주기: null
- 남은 휴약일: null

---

### TC-01-03: 1개월 조회 (마지막 생리 이후)
#### 📌 테스트 목적
마지막 생리(Period 3) 전체 주기를 조회하여 실제 생리, 배란기, 가임기, 다음 예정일이 모두 정확히 표시되는지 검증

#### 📝 입력 조건
- 조회 기간: 2025-03-01 ~ 2025-03-31

#### ✅ 예상 결과
**주기 개수: 1개**

**주기 1 (pk=3):**
- pk: "3"
- 실제 생리 기록: 2025-03-01 ~ 2025-03-05
- 지연 일수: 0일
- 지연 기간: null
- 생리 예정일들: [2025-03-31 ~ 2025-04-04]
- 가임기들: [2025-03-08 ~ 2025-03-19]
- 배란기들: [2025-03-13 ~ 2025-03-15]
- 주기: 30
- 배란일 사용자 입력: false
- 피임약 기준 주기: null
- 남은 휴약일: null

---

## 그룹 2: 과거 기록 중심 (생리 주기 사이 - Period 2)

### TC-01-04: 1일 조회 (과거)
#### 📌 테스트 목적
Period 2와 Period 3 사이 배란기 특정 날짜를 정확히 검증

#### 📝 입력 조건
- 조회 기간: 2025-02-07 ~ 2025-02-07

#### ✅ 예상 결과
**주기 개수: 1개**

**주기 1 (pk=2):**
- pk: "2"
- 실제 생리 기록: 2025-02-01 ~ 2025-02-05
- 지연 일수: 0일
- 지연 기간: null
- 생리 예정일들: []
- 가임기들: []
- 배란기들: []
- 주기: 28
- 배란일 사용자 입력: false
- 피임약 기준 주기: null
- 남은 휴약일: null

---

### TC-01-05: 1주일 조회 (과거)
#### 📌 테스트 목적
Period 2의 배란기/가임기 구간을 1주일 조회하여 정확히 검증

#### 📝 입력 조건
- 조회 기간: 2025-02-09 ~ 2025-02-15

#### ✅ 예상 결과
**주기 개수: 1개**

**주기 1 (pk=2):**
- pk: "2"
- 실제 생리 기록: 2025-02-01 ~ 2025-02-05
- 지연 일수: 0일
- 지연 기간: null
- 생리 예정일들: []
- 가임기들: [2025-02-08 ~ 2025-02-19]
- 배란기들: [2025-02-13 ~ 2025-02-15]
- 주기: 28
- 배란일 사용자 입력: false
- 피임약 기준 주기: null
- 남은 휴약일: null

---

### TC-01-06: 1개월 조회 (과거)
#### 📌 테스트 목적
Period 2 전체 주기를 조회하여 실제 생리, 배란기, 가임기가 모두 정확히 계산되는지 검증

#### 📝 입력 조건
- 조회 기간: 2025-02-01 ~ 2025-02-28

#### ✅ 예상 결과
**주기 개수: 1개**

**주기 1 (pk=2):**
- pk: "2"
- 실제 생리 기록: 2025-02-01 ~ 2025-02-05
- 지연 일수: 0일
- 지연 기간: null
- 생리 예정일들: []
- 가임기들: [2025-02-08 ~ 2025-02-19]
- 배란기들: [2025-02-13 ~ 2025-02-15]
- 주기: 28
- 배란일 사용자 입력: false
- 피임약 기준 주기: null
- 남은 휴약일: null

---

## 그룹 3: 장기 조회 & 특수 구간

### TC-01-07: 3개월 조회
#### 📌 테스트 목적
장기간 조회 시 여러 주기의 예측이 반복적으로 정확한지 검증

#### 📝 입력 조건
- 조회 기간: 2025-03-01 ~ 2025-05-31

#### ✅ 예상 결과
**주기 개수: 1개**

**주기 1 (pk=3):**
- pk: "3"
- 실제 생리 기록: 2025-03-01 ~ 2025-03-05
- 지연 일수: 0일
- 지연 기간: null
- 생리 예정일들: [2025-03-31 ~ 2025-04-04, 2025-04-30 ~ 2025-05-04, 2025-05-30 ~ 2025-06-03]
- 가임기들: [2025-03-08 ~ 2025-03-19, 2025-04-07 ~ 2025-04-18, 2025-05-07 ~ 2025-05-18]
- 배란기들: [2025-03-13 ~ 2025-03-15, 2025-04-12 ~ 2025-04-14, 2025-05-12 ~ 2025-05-14]
- 주기: 30
- 배란일 사용자 입력: false
- 피임약 기준 주기: null
- 남은 휴약일: null

---

### TC-01-08: 생리 기간 경계 조회
#### 📌 테스트 목적
전체 생리 기록 조회 및 미래 예측 검증

#### 📝 입력 조건
- 조회 기간: 2025-01-01 ~ 2025-05-31

#### ✅ 예상 결과
**주기 개수: 3개**

**주기 1 (pk=1):**
- pk: "1"
- 실제 생리 기록: 2025-01-01 ~ 2025-01-05
- 지연 일수: 0일
- 지연 기간: null
- 생리 예정일들: []
- 가임기들: [2025-01-08 ~ 2025-01-19]
- 배란기들: [2025-01-13 ~ 2025-01-15]
- 주기: 31
- 배란일 사용자 입력: false
- 피임약 기준 주기: null
- 남은 휴약일: null

**주기 2 (pk=2):**
- pk: "2"
- 실제 생리 기록: 2025-02-01 ~ 2025-02-05
- 지연 일수: 0일
- 지연 기간: null
- 생리 예정일들: []
- 가임기들: [2025-02-08 ~ 2025-02-19]
- 배란기들: [2025-02-13 ~ 2025-02-15]
- 주기: 28
- 배란일 사용자 입력: false
- 피임약 기준 주기: null
- 남은 휴약일: null

**주기 3 (pk=3):**
- pk: "3"
- 실제 생리 기록: 2025-03-01 ~ 2025-03-05
- 지연 일수: 0일
- 지연 기간: null
- 생리 예정일들: [2025-03-31 ~ 2025-04-04, 2025-04-30 ~ 2025-05-04, 2025-05-30 ~ 2025-06-03]
- 가임기들: [2025-03-08 ~ 2025-03-19, 2025-04-07 ~ 2025-04-18, 2025-05-07 ~ 2025-05-18]
- 배란기들: [2025-03-13 ~ 2025-03-15, 2025-04-12 ~ 2025-04-14, 2025-05-12 ~ 2025-05-14]
- 주기: 30
- 배란일 사용자 입력: false
- 피임약 기준 주기: null
- 남은 휴약일: null

---

### TC-01-09: 생리 기간 경계 조회
#### 📌 테스트 목적
과거 생리 기록만 조회 (미래 예측 없음)

#### 📝 입력 조건
- 조회 기간: 2025-01-01 ~ 2025-02-28

#### ✅ 예상 결과
**주기 개수: 2개**

**주기 1 (pk=1):**
- pk: "1"
- 실제 생리 기록: 2025-01-01 ~ 2025-01-05
- 지연 일수: 0일
- 지연 기간: null
- 생리 예정일들: []
- 가임기들: [2025-01-08 ~ 2025-01-19]
- 배란기들: [2025-01-13 ~ 2025-01-15]
- 주기: 31
- 배란일 사용자 입력: false
- 피임약 기준 주기: null
- 남은 휴약일: null

**주기 2 (pk=2):**
- pk: "2"
- 실제 생리 기록: 2025-02-01 ~ 2025-02-05
- 지연 일수: 0일
- 지연 기간: null
- 생리 예정일들: []
- 가임기들: [2025-02-08 ~ 2025-02-19]
- 배란기들: [2025-02-13 ~ 2025-02-15]
- 주기: 28
- 배란일 사용자 입력: false
- 피임약 기준 주기: null
- 남은 휴약일: null

---

## 그룹 4: 생리 지연 케이스

### TC-01-10: 생리 지연 1-7일 (예정일 뒤로 미룸)
#### 📌 테스트 목적
생리 예정일이 지나고 1-7일 지연되었을 때 지연 기간이 표시되고, 다음 예정일이 지연 다음날부터 시작하는지 검증

#### 📝 입력 조건
- 조회 기간: 2025-03-20 ~ 2025-04-10
- 오늘 날짜: 2025-04-06 (생리 예정일 03-31으로부터 7일 지연)

#### ✅ 예상 결과
**주기 개수: 1개**

**주기 1 (pk=3):**
- pk: "3"
- 실제 생리 기록: 2025-03-01 ~ 2025-03-05
- 지연 일수: 7일
- 지연 기간: [2025-03-31 ~ 2025-04-06]
- 생리 예정일들: [2025-04-07 ~ 2025-04-11]
- 가임기들: []
- 배란기들: []
- 주기: 30
- 배란일 사용자 입력: false
- 피임약 기준 주기: null
- 남은 휴약일: null

---

### TC-01-11: 생리 지연 8일 이상 (예정일 표시 안 함, 병원 권장)
#### 📌 테스트 목적
생리 예정일이 지나고 8일 이상 지연되었을 때 예정일과 지연 기간을 표시하지 않는지 검증 (병원 진료 권장 상태)

#### 📝 입력 조건
- 조회 기간: 2025-03-20 ~ 2025-05-10
- 오늘 날짜: 2025-04-07 (생리 예정일 03-31으로부터 8일 지연)

#### ✅ 예상 결과
**주기 개수: 1개**

**주기 1 (pk=3):**
- pk: "3"
- 실제 생리 기록: 2025-03-01 ~ 2025-03-05
- 지연 일수: 8일
- 지연 기간: [2025-03-31 ~ 2025-04-07]
- 생리 예정일들: []
- 가임기들: []
- 배란기들: []
- 주기: 30
- 배란일 사용자 입력: false
- 피임약 기준 주기: null
- 남은 휴약일: null
